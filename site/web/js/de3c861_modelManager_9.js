;let ModelManager=function(){};ModelManager.prototype.investissementModele=function(e,t){return(e.terrain()+e.construction()+e.equipement()+e.camion()+e.info()+e.bureau())*t};ModelManager.prototype.ammortissment=function(e,t,i){let amortissement=[];amortissement.push(maker.armortirModele(e.construction()*i,t.amortization().construction(),t.amortization().coefdegressif(),'Construction'));amortissement.push(maker.armortirModele(e.equipement()*i,t.amortization().equipement(),t.amortization().coefdegressif(),'Equipement'));amortissement.push(maker.armortirModele(e.camion()*i,t.amortization().camion(),t.amortization().coefdegressif(),'Camion'));amortissement.push(maker.armortirModele(e.info()*i,t.amortization().info(),t.amortization().coefdegressif(),'Informatique'));amortissement.push(maker.armortirModele(e.bureau()*i,t.amortization().bureau(),t.amortization().coefdegressif(),'Bureau'));return amortissement};ModelManager.prototype.ammortGen=function(e){let total=[0,0,0,0,0];let generalAmort=[];e.forEach(function(e){e.chargeAmorti().forEach(function(e,t){generalAmort.push(e);total[t]+=e});generalAmort.push('change')});total.forEach(function(e){generalAmort.push(e)});return generalAmort};ModelManager.prototype.taxe_val_ajout=function(e,t,r){let i;let petrole=[];let taux=[];let tva=[];for(i=0;i<5;i++){petrole.push(e.petrole()*r)};for(i=0;i<5;i++){taux.push(t.tvaPetrole())};for(i=0;i<5;i++){tva.push((e.petrole()*r)*(t.tvaPetrole()/100))};if(tva.length===6){tva.pop()};return{petrole:function(){return petrole},taux:function(){return taux},tva:function(){return tva},}};ModelManager.prototype.contributionForfEmploie=function(e,t,r,n){let i;let salaireCadre=[];for(i=0;i<5;i++){salaireCadre.push(e.cadre()*e.indice_cadre()*r)};let salaireSecretaire=[];for(i=0;i<5;i++){salaireSecretaire.push(e.secretaire()*e.indice_secretaire()*r)};let salaireOuvrier=[];for(i=0;i<5;i++){salaireOuvrier.push(e.ouvrier()*e.indice_ouvrier()*r)};let masseSalarial=[];for(i=0;i<5;i++){masseSalarial.push(salaireCadre[i]+salaireSecretaire[i]+salaireOuvrier[i])};let taux=[];for(i=0;i<5;i++){taux.push(n.cfe())};let reelCFE=[];for(i=0;i<5;i++){reelCFE.push(masseSalarial[i]*(taux[i]/100))};return{salaire_cadre:function(){return salaireCadre},salaire_secretaire:function(){return salaireSecretaire},salaire_ouvrier:function(){return salaireOuvrier},masse_salarial:function(){return masseSalarial},tauxCfe:function(){return taux},reel_CFE:function(){return reelCFE},}};ModelManager.prototype.selectTaxe=function(e,t){let cfe,is,imf,irvm,irc,tvaPetrole;if(t.government()==='gen'){cfe=e.impots().cfe();is=e.impots().isImp();imf=e.impots().imf();irvm=e.impots().irvm();irc=e.impots().irc();tvaPetrole=e.impots().tva_petrole()}
else{if(e.investment().duree<5){cfe=e.impots().cfe();is=e.impots().isImp();imf=e.impots().imf();irvm=e.impots().irvm();irc=e.impots().irc();tvaPetrole=e.impots().tva_petrole()}
else{if(e.investment().cfe().taux()!=null){cfe=e.investment().cfe().taux()}
else{if(e.investment().cfe().reducexo()!=null){cfe=((1-(e.investment().cfe().reducexo()/100))*(e.impots().cfe()/100))*100}
else{cfe=e.impots().cfe()}};if(e.investment().isamort().taux()!=null){is=e.investment().isamort().taux()}
else{if(e.investment().isamort().reducexo()!=null){is=(((1-(e.investment().isamort().reducexo()/100))*(e.impots().isImp()/100))*100)}
else{is=e.impots().isImp()}};if(e.investment().imf().taux()!=null){imf=e.investment().imf().taux()}
else{if(e.investment().imf().reducexo()!=null){imf=((1-(e.investment().imf().reducexo()/100))*(e.impots().imf()/100))*100}
else{imf=e.impots().imf()}};if(e.investment().irvm().taux()!=null){irvm=e.investment().irvm().taux}
else{if(e.investment().irvm().reducexo()!=null){irvm=((1-(e.investment().irvm().reducexo()/100))*(e.impots().irvm()/100))*100}
else{irvm=e.impots().irvm()}};if(e.investment().irc().taux()!=null){irc=e.investment().irc().taux()}
else{if(e.investment().irc().reducexo!=null){irc=((1-(e.investment().irc().reducexo()/100))*(e.impots().irc()/100))*100}
else{irc=e.impots().irc()}};if(e.investment().tvaPetrole().taux()!=null){tvaPetrole=e.investment().tvaPetrole().taux()}
else{if(e.investment().irc().reducexo()!=null){tvaPetrole=((1-(e.investment().tvaPetrole().reducexo()/100))*(e.impots().tva_petrole()/100))*100}
else{tvaPetrole=e.impots().tva_petrole()}}}};return{cfe:function(){return cfe},is:function(){return is},imf:function(){return imf},irvm:function(){return irvm},irc:function(){return irc},tvaPetrole:function(){return tvaPetrole},}};ModelManager.prototype.taxe_creance=function(e,t,r){let i;let chargeFin=[];let taux=[];let irc=[];for(i=0;i<5;i++){chargeFin.push(e.chargeFinanciere()*r)};for(i=0;i<5;i++){taux.push(t.irc())};for(i=0;i<5;i++){irc.push((e.chargeFinanciere()*r)*(t.irc()/100))};return{chargeFinance:function(){return chargeFin},taux:function(){return taux},irc:function(){return irc},}};ModelManager.prototype.comptableResult=function(e,t,r,n,a,o,s,u){let i;let vente=[];let achats=[];let petrole=[];let tva_petrole=r;let depense_admin=[];let depense_pub=[];let depense_entretien=[];let salaireCadre=n;let salaire_secreataire=a;let salaireOuvrier=o;let CFE=s;let chargeFinancier=[];let amortissement=[];let benefice_comptable=[];let taux_marge_avant__IS_ISMF=[];let cpt=0;u.forEach(function(e){if(e==='change'){cpt++}
else{if(cpt>4){amortissement.push(e)}}});for(i=0;i<5;i++){vente.push(e.vente()*t);achats.push(e.achat()*t);petrole.push(e.petrole()*t);depense_admin.push(e.depenseAdministrative()*t);depense_pub.push(e.depensePub()*t);depense_entretien.push(e.depenseEntretien()*t);chargeFinancier.push(e.chargeFinanciere()*t)};for(i=0;i<5;i++){benefice_comptable.push(vente[i]-(achats[i]+petrole[i]+tva_petrole[i]+depense_admin[i]+depense_pub[i]+depense_entretien[i]+salaireCadre[i]+salaireOuvrier[i]+salaire_secreataire[i]+CFE[i]+chargeFinancier[i]+amortissement[i]));taux_marge_avant__IS_ISMF.push((benefice_comptable[i]/vente[i])*100)};return{vente:function(){return vente},achats:function(){return achats},petrole:function(){return petrole},tva_petrole:function(){return tva_petrole},depense_entretien:function(){return depense_entretien},depense_admin:function(){return depense_admin},depense_pub:function(){return depense_pub},salaire_ouvrier:function(){return salaireOuvrier},salaire_secretaire:function(){return salaire_secreataire},salaire_cadre:function(){return salaireCadre},cfe:function(){return CFE},chargeFinanciere:function(){return chargeFinancier},amortissement:function(){return amortissement},benefice_comptable:function(){return benefice_comptable},taux_marge_avant__IS_IMF:function(){return taux_marge_avant__IS_ISMF},}};ModelManager.prototype.impotResult=function(e,t){let benImpo=[];for(let i=0;i<5;i++){benImpo.push(e[i]-t[i])};return{benCompta:function(){return e},amortExep:function(){return t},benImpo:function(){return benImpo},}};ModelManager.prototype.ammortExcept=function(e,t,n,r){let i;let investissment=(r.firm().terrain()+r.firm().construction()+r.firm().equipement()+r.firm().camion()+r.firm().info()+r.firm().bureau())*r.land().pib;let taux;let limitation;let duree;let tDuree=[];let baseAmorti=[];let chargeAmorti=[];if(n==='nongen'){if(e.investment().isamort().ammortTauxEx()!=null){taux=e.investment().isamort().ammortTauxEx()}
else{taux=0};if(e.investment().isamort().ammortLimit()!=null){limitation=e.investment().isamort().ammortLimit()}
else{limitation=0};if(e.investment().isamort().duree()!=null){duree=e.investment().isamort().duree()}
else{duree=0}}
else{taux=0;limitation=0;duree=0};tDuree.push(duree);for(i=1;i<5;i++){tDuree.push(tDuree[i-1]-1);if(tDuree[i]<0){tDuree[i]=0}};baseAmorti.push(investissment*(taux/100));for(i=0;i<5;i++){if(tDuree<=0){chargeAmorti.push(0)}
else{if(t[i]<=0){chargeAmorti.push(0)}
else{if((limitation/100)*t[i]>baseAmorti[i]){chargeAmorti.push(baseAmorti[i])}
else{chargeAmorti.push((limitation/100)*t[i])}}};if(i<4){baseAmorti.push(baseAmorti[i]-chargeAmorti[i])}};return{duree:function(){return duree},investment:function(){return investissment},taux:function(){return taux},limitation:function(){return limitation},dureeTab:function(){return tDuree},baseAmorti:function(){return baseAmorti},chargeAmorti:function(){return chargeAmorti},}};ModelManager.prototype.iSIMFtab=function(e,t){let monTab=[];for(let i=0;i<5;i++){if(e[i]>=t[i]){monTab.push(e[i])}
else{monTab.push(t[i])}};return monTab};ModelManager.prototype.impotTaxeCourent=function(e,t,r,n,o,a){let cfe=[];let isimf=[];let irvm=[];let irc=[];let tvaPetrole=[];let total=[];for(let i=0;i<5;i++){cfe.push(t.reel_CFE()[i]);isimf.push(r[i]);irvm.push(n[i]);irc.push(o.irc()[i]);tvaPetrole.push(a.tva()[i]);total.push(cfe[i]+isimf[i]+irc[i]+irvm[i]+tvaPetrole[i])};cfe.push(myMath.van(e/100,cfe));isimf.push(myMath.van(e/100,isimf));irvm.push(myMath.van(e/100,irvm));irc.push(myMath.van(e/100,irc));tvaPetrole.push(myMath.van(e/100,tvaPetrole));total.push(myMath.van(e/100,total));return{cfe:function(){return cfe},isimf:function(){return isimf},irvm:function(){return irvm},irc:function(){return irc},tvaPetrole:function(){return tvaPetrole},total:function(){return total},}};ModelManager.prototype.impotTaxeActu=function(e,t,r,n,o,a){let cfe=[];let isimf=[];let irvm=[];let irc=[];let tvaPetrole=[];let total=[];let totactu=0;for(let i=0;i<5;i++){totactu=e[i];cfe.push(t.reel_CFE()[i]*(totactu/100));isimf.push(r[i]*(totactu/100));irvm.push(n[i]*(totactu/100));irc.push(o.irc()[i]*(totactu/100));tvaPetrole.push(a.tva()[i]*(totactu/100));total.push(cfe[i]+isimf[i]+irc[i]+irvm[i]+tvaPetrole[i])};cfe.push(myMath.sommeTab(cfe));isimf.push((myMath.sommeTab(isimf)));irvm.push(myMath.sommeTab(irvm));irc.push(myMath.sommeTab(irc));tvaPetrole.push(myMath.sommeTab(tvaPetrole));total.push(myMath.sommeTab(total));return{cfe:function(){return cfe},isimf:function(){return isimf},irvm:function(){return irvm},irc:function(){return irc},tvaPetrole:function(){return tvaPetrole},total:function(){return total},}};ModelManager.prototype.tauxEffectif=function(e,t){return((e-t)/e)*100};ModelManager.prototype.fluxTresoriesI=function(e,t,i,r){let courant=[];let courantBis=[];let actuel=[];let actuelBis=[];let totactu;courant.push(-(e.capitalSocial()+e.detteLongTerme()+e.detteCourtTerme()+e.detteFournisseur())*t);actuel.push(-(e.capitalSocial()+e.detteLongTerme()+e.detteCourtTerme()+e.detteFournisseur())*t);i.vente().forEach(function(t,e){courant.push(t-i.achats()[e]-i.petrole()[e]-i.depense_entretien()[e]-i.depense_admin()[e]-i.depense_pub()[e]-i.salaire_ouvrier()[e]-i.salaire_cadre()[e]-i.salaire_secretaire()[e]-i.chargeFinanciere()[e])});courantBis.push(courant[0]);actuelBis.push(actuel[0]);courant.forEach(function(e,t){if(t!==0){totactu=(r[t-1]);courantBis.push(e);actuel.push(e*(totactu/100));actuelBis.push(actuel[t])}});courant.push(myMath.van(e.actuali()/100,courant));actuel.push(myMath.sommeTab(actuelBis));return{courant:function(){return courant},topic:function(){return actuel},}};ModelManager.prototype.fluxTresoriesImp=function(e,t,i,r){let actu=[];let courant=[];courant.push(e.courant()[0]);actu.push(e.topic()[0]);e.topic().forEach(function(t,r){if(r>0&&r<e.topic().length-1){actu.push(t-i[r-1])}});e.courant().forEach(function(i,r){if(r>0&&r<e.courant().length-1){courant.push(i-t[r-1])}});actu.push(myMath.sommeTab(actu));courant.push(myMath.van(r/100,courant));return{courant:function(){return courant},topic:function(){return actu},}};ModelManager.prototype.tauxRendementInterne=function(e){let taux=[];let tau;let tabBis=[];tabBis.push(e[0]);e.forEach(function(t,i){if(i>0&&i<e.length-1){tabBis.push(t);try{tau=myMath.tri(tabBis)}catch(r){tau=0};if(tau<0){tau=0};taux.push(tau)}});return taux};ModelManager.prototype.tauxEffectifMarginaux=function(e,t){let tot=[];e.forEach(function(e,i){if(e>0){tot.push((((e-t[i])/e)*100))}
else{tot.push(0)}});return tot};ModelManager.prototype.tauxRenInterTot=function(e){let topic=[];let tau;e.forEach(function(t,i){if(i<e.length-1){topic.push(t)}});try{tau=myMath.tri(topic)}catch(t){tau=0};if(tau<0){tau=0};return tau};let modelManager=new ModelManager();