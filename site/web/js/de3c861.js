;function base(){let regime='';let act='';if(localStorage.getItem('retour1')!==undefined){if(localStorage.getItem('retour1')!==null){regime=localStorage.getItem('retour1')}};if(localStorage.getItem('retour2')!==undefined){if(localStorage.getItem('retour2')!==null){act=localStorage.getItem('retour2')}};let pays=sessionStorage.getItem('land');localStorage.clear();localStorage.setItem('retour1',regime);localStorage.setItem('retour2',act);sessionStorage.setItem('land',pays);let mod=localStorage.getItem('retour1');if(act!==undefined){if(act!==null){document.getElementById('actualisation').value=act}}};var url='/';$.post(url,function(e){$('#data').html(e)});base();
;function getXMLHttpRequest(){let xhr=null;if(window.XMLHttpRequest||window.ActiveXObject){if(window.ActiveXObject){try{xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){xhr=new ActiveXObject("Microsoft.XMLHTTP")}}
else{xhr=new XMLHttpRequest()}}
else{alert("Votre navigateur ne supporte pas l'objet XMLHTTPRequest...");return null};return xhr};
;let Verif=function(){};Verif.prototype.verifPourcent=function(e){let regex1=/^[0-9]*[.]?[0-9]*$/;if(!regex1.test(e)){throw new Error("Veuillez entrer un pourcentage")};if(e===""){throw new Error("Veuillez entrer quelque chose")};if(e===undefined){throw new Error("Veuillez entrer quelque chose")};if(e===null){throw new Error("Veuillez entrer quelque chose")};e=parseFloat(e);if(e>100){throw new Error("le chiffre est supérieur à 100")};if(e<0){throw new Error("le chiffre est inférieur à 00")};return e};Verif.prototype.codeISO3=function(e){let tab=Array.from(e);if(tab.length!==3){throw new Error("le code doit comporter 3 lettres")};let regex1=/[a-zA-Z]/;tab.forEach(function(r){if(!regex1.test(r)){throw new Error("le code doit être composé de 3 lettres et donc ne contiennent pas de chiffre")}
else{e=e.toUpperCase()}});let xhr=getXMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===4&&(xhr.status===200)){if(xhr.responseXML.getElementsByTagName("wb:country")[0]===undefined){throw new Error("le code "+e+" n'existe pas")}}};xhr.open("GET","https://api.worldbank.org/v2/countries/"+e,!0);xhr.send(null)};Verif.prototype.stringer=function(e){let regex1=/[a-zA-Z0-9]+/;if(!regex1.test(e)){throw new Error("veuillez entrer quelque chose")}};Verif.prototype.inter=function(e){let regex1=/^[1-9]+[0-9]*$/;if(e===""){throw new Error("veuillez entrer quelque chose")};if(e===null){throw new Error("veuillez entrer quelque chose")};if(e===undefined){throw new Error("veuillez entrer quelque chose")};if(!regex1.test(e)){throw new Error("veuillez entrer un entier")}};Verif.prototype.verifTauxInvest=function(e){let regex=/^[ ]*$/;if(!regex.test(e)){if(e!==null){if(e!==undefined){let regex1=/^[0-9]*[.]?[0-9]*$/;if(!regex1.test(e)){throw new Error("Veuillez entrer un pourcentage")};e=parseFloat(e);if(e>100){throw new Error("le chiffre est supérieur à 100")};if(e<0){throw new Error("le chiffre est inférieur à 00")}}}}};Verif.prototype.verifDureeInvest=function(e){let regex=/^[ ]*$/;if(!regex.test(e)){if(e!==null){if(e!==undefined){let regex1=/^[1-9]+[0-9]*$/;if(!regex1.test(e)){throw new Error("Veuillez entrer une duree")}}}}};let verif=new Verif();
;let MyMath=function(){};MyMath.prototype.tri=function(t){let numberOfTries=1;let positive,negative;Array.prototype.slice.call(t).forEach(function(t){if(t>0)positive=!0;if(t<0)negative=!0});if(!positive||!negative)throw new Error("TRI a besoin de valeur positif et negatif");function e(r){numberOfTries++;if(numberOfTries>1000){throw new Error("IRR can't find a result")};let rrate=(1+r/100);let e=t[0];for(let i=1;i<t.length;i++){e+=(t[i]/Math.pow(rrate,i))};return e};return Math.round(triReel(e)*100)/100};triReel=function(t){let x=1;while(t(x)>0){x+=1}
while(t(x)<0){x-=0.01};return x+0.01};MyMath.prototype.van=function(t,e){let lol=e[0];let somme=0;e.forEach(function(e,r){if(r>0){somme+=(e/Math.pow((1+t),r))}});lol=lol+somme;return Math.round(lol)};MyMath.prototype.sommeTab=function(t){let tot=0;t.forEach(function(t){tot+=t});return tot};MyMath.prototype.arrondirTabUnit=function(t,e){if(e==null){e=0};if(e===undefined){e=0};if(e<0){e=0};let tabArr=[];t.forEach(function(t){if(t!==null){tabArr.push(Math.round(t*Math.pow(10,e))/(Math.pow(10,e)))}
else{tabArr.push(null)}});return tabArr};MyMath.prototype.separatorNumber=function(t){t+="";let regExp1=/^-?[0-9]+\.?[0-9]*/;let result="";let tab=t.split(".");let mynum=[];if(regExp1.test(t)){tab.forEach(function(t,e){mynum=Array.from(t);mynum.forEach(function(t,e){if((e-(mynum.length%3))%3===0){if(e!==0){result+=" "}};result+=t});if(e<tab.length-1){result+="."}})}
else{result=t;if(t==="null"){return null};if(t==="undefined"){return undefined}};return result};MyMath.prototype.separatorNumberArray=function(t){let tab=[];t.forEach(function(t){tab.push(myMath.separatorNumber(t))});return tab};let myMath=new MyMath();
;let Ref=function(){};Ref.prototype.donnerNomPays=function(e){let randPays=land.pays;for(let i=0;i<randPays.length;i++){if(randPays[i].code()===e){return randPays[i].name()}}};Ref.prototype.donnerCodePays=function(e){let randPays=land.pays;for(let i=0;i<randPays.length;i++){if(randPays[i].name()===e){return randPays[i].code()}}};Ref.prototype.pibFind=function(e){let pib=0;let xhr=getXMLHttpRequest();if(localStorage.getItem("xmlPib : "+e)!==undefined){if(localStorage.getItem("xmlPib : "+e)!==null){return parseFloat(localStorage.getItem("xmlPib : "+e))*582.79}};xhr.onreadystatechange=function(){if(xhr.readyState===4&&(xhr.status===200)){try{if(xhr.responseXML.getElementsByTagName("wb:data")[0].childNodes[3].childNodes[5].firstChild.nodeValue.toString()===e){if(localStorage.getItem("xmlPib : "+e)===xhr.responseXML.getElementsByTagName("wb:data")[0].childNodes[5].childNodes[9].firstChild.nodeValue.toString()){return};localStorage.setItem("xmlPib : "+e,xhr.responseXML.getElementsByTagName("wb:data")[0].childNodes[5].childNodes[9].firstChild.nodeValue.toString())}}catch(t){console.log("Une erreur XML de l'api de workbank est apparu")}}};try{xhr.open("GET","https://api.worldbank.org/v2/countries/"+e+"/indicators/NY.GDP.PCAP.CD",!0);xhr.send(null)}catch(t){console.log(t)};if(pib===0){pib=parseFloat(localStorage.getItem("xmlPib : "+e))*582.79};return pib};Ref.prototype.givePIB=function(e){return parseFloat(localStorage.getItem("xmlPib : "+e))*582.79};let ref=new Ref();
;let BootstrapView=function(){};BootstrapView.prototype.tableSE=function(t){let color;let args=arguments;let html;if(args[1]!=null){html=' <table class=\'table\'>'+args[1]+'<tbody>'}
else{html=' <table class=\'table monTab\'><tbody>'};for(let i=2;i<args.length;i++){if(args[i].colorFirstCase===undefined){args[i].colorFirstCase=' '};if(args[i].colorFirstCase===null){args[i].colorFirstCase=' '};if(args[i].bottomBorder!==undefined&&args[i].bottomBorder!==null){html+=`<tr;class='bottomBorder'>`;args[i].color+=' bottomBorder';if(args[i].numTabdep!==undefined&&args[i].numTabdep!==null){if(args[i].numTabdep===0){if(args[i].font_color!==undefined&&args[i].font_color!==null){html+=`<td;class=\'font${args[i].font_color}\ bottomBorder'>${args[0][i-2]};</td>`;;                    };                    else {;                        html += `<td class="bottomBorder">${args[0][i - 2]}</td>`}}
else{html+=`<td;class='bottomBorder '>${args[0][i-2]};</td>`;;                };            };            else {;                html += `<td class="bottomBorder ">${args[0][i - 2]}</td>`}}
else{html+='<tr>';if(args[i].numTabdep!==undefined&&args[i].numTabdep!==null){if(args[i].numTabdep===0){if(args[i].font_color!==undefined&&args[i].font_color!==null){html+=`<td;class=\'font${args[i].font_color}">${args[0][i - 2]}</td>`;;                    };                    else {;                        html += `<td >${args[0][i - 2]}</td>`;;                    };                };                else {;                    html += `<td >${args[0][i - 2]}</td>`;;                };            };            else {;                html += `<td>${args[0][i - 2]}</td>`;;            };        };        for (let j = 0; j < args[i].tab.length; j++) {;            if (j === 0) {;                if (args[i].colorFirstCase !== '') {;                    color = args[i].colorFirstCase;;                };                else {;                    color = args[i].color;;                };                if (args[i].font_color !== undefined && args[i].font_color !== null) {;                    if (args[i].numTabdep !== undefined && args[i].numTabdep !== null && args[i].numTabdep !== 0) {;                        if (j + 1 === args[i].numTabdep) {;                            color += ';font' + args[i].font_color;                        };;                    } else {;;                        color += ';font' + args[i].font_color;;                    };                };                if (args[i].tab[j] != null) {;                    //console.log('ici'+(args[i].color=='blue').toString());;                    html += `<td class="${color}">${args[i].tab[j]}</td>`;;                };                else {;                    html += `<td class="${color}" />`;;                };;            };            else {;                if (j === args[i].tab.length - 1) {;                    if (args[i].fontColorLastCase === 'selectedPosNegNumber') {;                        if (args[i].tab[j] != null) {;                            if (args[i].tab[j] < 0) {;                                args[i].fontColorLastCase = 'red';;                            };                            else {;                                args[i].fontColorLastCase = '';;                            };                        };                    };                    if (args[i].fontColorLastCase !== undefined && args[i].fontColorLastCase !== null && args[i].fontColorLastCase !== '');                        args[i].font_color = args[i].fontColorLastCase;;                };                if (args[i].font_color !== undefined && args[i].font_color !== null) {;                    if (args[i].numTabdep !== undefined && args[i].numTabdep !== null && args[i].numTabdep !== 0) {;                        if (j + 1 === args[i].numTabdep) {;                            args[i].color += ';font' + args[i].font_color;                        };                    } else {;                        args[i].color += ';font' + args[i].font_color;;                    };                };                if (args[i].tab[j] != null) {;                    html += `<td class="${args[i].color}">${args[i].tab[j]}</td>`;;                };                else {;                    html += `<td class="${args[i].color}" /> `;;                };            };        };        html += '</tr>";;    };    html += "</tbody></table>";;    return html;;};;/***@description;This;function create;a;bootstrap;pannel*@param{string};type-type;of;pannel(look;doc;on;the;site:https:*@param{string};head-head;of;the;pannel;if he;is;null,the;pannel;is;generate;without;head*@param{string};body-body;of;the;pannel*@return{string};html*/;BootstrapView.prototype.pan = function (type, head, body) {;    let result = "<div class='panel panel-" + type + " '>";;    if (head !== null) {;        result += "<div class='panel-heading'>";;        result += head;;        result += "</div>';    };    result += '<div;class='panel-body'>';;    result += body;;    result += '</div></div>';;    return result;;};;/**; * @description This function create the body of the page html; * @param {string} body - the body of the page without topNav; * @return {string} html; */;BootstrapView.prototype.container = function (body) {;    return '<div;class='container'>' + body + '</div>";;};;/***@description;this;function use;a;grid;basic;bootstrap;10-2;mode.*@param{string};body-the;string;template;ready;inserted in the;col;to;take;10/12;of;the;grid*@param{string};nav-the;string;html;template;ready;inserted in the;column;2/12;on;the;right;on;the;grid*@return{string};html*/;BootstrapView.prototype.GridNavCote = function (body, nav) {;    let result = "<div class='row'><div class='col-sm-10'>";;    result += body;;    result += "</div><div;class='col-sm-2'>';;    result += nav;;    result += '</div></div>';;    return result;;};;/**; * @description this function create a button created with a tag <a>; * @param {string} href  - the location where u want to go; * @param {string} html - the entitled of your tag; * @return {string} html; */;BootstrapView.prototype.buttonBalA = function (href, html) {;    return `<a  class=\'btn btn-default\' type=\'submit\' href=\'${href}\'>${html}</a>`;;};;/**; * @description This unction create a button created with a tag <button>; * @param {string} type - the type of button (look doc on the site : https://www.w3schools.com/bootstrap/bootstrap_ref_css_buttons.asp); * @param {function()} onclick - the callback where you want to use; * @param {string} html - the entitled of your tag; * @param {string} value - the value of your tag; * @return {string} html; */;BootstrapView.prototype.buttonBaBu = function (type, onclick, html, value) {;    return `<button class=\'btn btn-${type}\' type=\'button\' onclick='${onclick};' value='${value};' \'>${html}</button>`;;};;/**; * @description This function create a liste-vertical-group on bootstrap.; * @param {array}tab - the array of your list; * @return {string} html; */;BootstrapView.prototype.listeItem = function (tab) {;    let html = '<ul;class='list-group vertical-form'>';;    tab.forEach(function (item) {;        html += `<li class='list-group-item'>${item}</li>`;;    });;    return html;;};;/**; * @description This function create a collapse group pannel on bootstrap; * @param {string} objCollapse -the obj of your collapse; * (take all args ,collapse obj ={title:\'yourTitle\',body:\'yourBody\'}); * @return {string} html; */;BootstrapView.prototype.collapse = function (objCollapse) {;    let args = arguments;;    let int;;    let html = '<div;class='panel-group';id='accordion'>';;    for (let i = 1; i < args.length; i++) {;        if (args[0] !== null && args[0] !== undefined) {;            if (i === args[0]) {;                int = 'in';;            };            else {;                int = '';;            };        };        html += `<div class='panel;panel-default'><div class='panel-heading'><h4 class='panel-title'>`;;        html += `<a data-toggle='collapse' data-parent='#accordion' href='#collapse${i+1};'>`;;        html += `${args[i].tittle}</a></h4></div><div id='collapse${i+1};' class='panel-collapse;collapse;${int};'>`;;        html += '<div;class='panel-body'>' + args[i].body + '</div>\n" +;            "</div>\n' +;            '</div>";;    };    return html;//+'</div>'};BootstrapView.prototype.bootstrapTemiTabSpe=function(t,e,o,l,r){let myTab=[];let tabExcel=[];let cpt=0;let landName;for(let i=0;i<e.length/6;i++){myTab.push('<br/><table class=\'table\' id=\'maTable'+cpt+'\'><thead><tr><th/>')};e.forEach(function(t,e){if(e%6===0&&e>0){myTab[cpt]+='</tr></thread><tbody>';cpt++};myTab[cpt]+='<th>';myTab[cpt]+=t;myTab[cpt]+='</th>';if(e!==0){landName=t.slice(1,Array.from(t).length)}
else{landName=t};tabExcel.push(ref.donnerCodePays(t))});o.forEach(function(e,a){cpt=0;myTab[cpt]+='<tr><td>';myTab[cpt]+=t[a]+'</td>';let cotee='';Array.from(t[a]).forEach(function(t){if(t!==' '){cotee+=t}});tabExcel.push(cotee);e.forEach(function(e,r){if(r%6===0&&r>0){myTab[cpt]+='</tr>';cpt++;myTab[cpt]+='<tr><td>';myTab[cpt]+=t[a]+'</td>'};myTab[cpt]+='<td>';myTab[cpt]+=myMath.separatorNumber(Math.round(e*100)/100);myTab[cpt]+=' % </td>';tabExcel.push(Math.round(e*100)/100)});myTab[cpt]+='</tr>\n'});for(let i=0;i<e.length/6;i++){myTab[i]+='</tbody></table>'};let html='<h1>Tableau des TEMI de chaque pays :</h1>';myTab.forEach(function(t){html+=t});tabExcel.push('ligne');tabExcel.push('entreprise');tabExcel.push('marge_%');l.forEach(function(t,e){tabExcel.push('entreprise'+(e+1));tabExcel.push(t)});tabExcel.push('ligne');tabExcel.push('ligne');tabExcel.push('actualisation');tabExcel.push(localStorage.getItem('compaActu')+'%');let reg;reg=' ';if(localStorage.getItem('compatRegime')==='gen'){reg='codes_générales_des_impots'}
else{reg='codes_des_investissements'};tabExcel.push('ligne');tabExcel.push('ligne');tabExcel.push('régime_Fiscal');tabExcel.push(reg);r+='.xls';let titreHtml='';Array.from(r).forEach(function(t){if(t!==' '){titreHtml+=t}});tabExcel.toString=function(){let html='';this.forEach(function(t,e){if(e===tabExcel.length){html+=t}
else{html+=t+','}});return html};html+=`<a;class='btn btn-default ';download='${titreHtml}';href='#';id='anchorNewApi-xls';onClick=newApi('xls','${tabExcel.toString()}','${titreHtml}')>Récupérer;Excel</a>`;;    //console.log(`<a;class='btn btn-default ';download='${titreHtml}';href='#';id='anchorNewApi-xls';onClick=newApi('xls','${tabExcel.toString()}','${titreHtml}')>Récupérer;Excel</a>`);;    return html;;};;/***@description;This;function create;an;alert*@param{string};str-the;body;of;alert*@return{string};*/;BootstrapView.prototype.alertDanger=function(str){;    return `<div class="alert alert-danger">${str}</div>`};let bootstrap=new BootstrapView();
;let Manufactor=function(){};Manufactor.prototype.land=function(t,e,r,n,i,u,o){return{pib:ref.pibFind(t),code:function(){return t},name:function(){return e},impots:function(){return r},amortization:function(){return n},investment:function(){return i},override:function(){return u},source:function(){return o},toString:function(){return this.name()+'|'+this.code()+'|'+this.impots().toString()+'|'+this.amortization().toString()+'|'+this.investment().toString()+'|'+this.override()+'|'+this.source()}}};Manufactor.prototype.impot=function(t,e,r,n,i,u){return{cfe:function(){return t},isImp:function(){return e},imf:function(){return r},irvm:function(){return n},irc:function(){return i},tva_petrole:function(){return u},toString:function(){return'['+this.cfe()+','+this.isImp()+','+this.imf()+','+this.irvm()+','+this.irc()+','+this.tva_petrole()+']'}}};Manufactor.prototype.ammortissement=function(t,e,r,n,i,u){return{construction:function(){return t},equipement:function(){return e},coefdegressif:function(){return r},camion:function(){return n},info:function(){return i},bureau:function(){return u},toString:function(){return'['+this.construction()+','+this.equipement()+','+this.camion()+','+this.info()+','+this.bureau()+','+this.coefdegressif()+']'}}};Manufactor.prototype.firm=function(t,e){return{name:function(){return'Djankov'},terrain:function(){return 30},construction:function(){return 40},equipement:function(){return 60},camion:function(){return 5},info:function(){return 5},bureau:function(){return 5},stocks:function(){return 35},creanceCli:function(){return 50},dispoBanque:function(){return 20},capitalSocial:function(){return 102},detteLongTerme:function(){return 43},detteCourtTerme:function(){return 55},detteFournisseur:function(){return 50},achat:function(){return Math.round(1050/(1+e/100))},petrole:function(){return 0},depenseAdministrative:function(){return 10},depensePub:function(){return 10.5},depenseEntretien:function(){return 3},chargeFinanciere:function(){return 5.5},vente:function(){return 1050},cadre:function(){return 4},secretaire:function(){return 8},ouvrier:function(){return 48},indice_cadre:function(){return 2.25},indice_secretaire:function(){return 1.25},indice_ouvrier:function(){return 1},dividende:function(){return 50},actuali:function(){return t}}};Manufactor.prototype.investir=function(t,e,r,n,i,u){return{cfe:function(){return t},isamort:function(){return e},imf:function(){return r},irvm:function(){return n},irc:function(){return i},tvaPetrole:function(){return u},toString:function(){return'['+this.cfe()+','+this.isamort()+','+this.imf()+','+this.irvm()+','+this.irc()+','+this.tvaPetrole()+']'}}};Manufactor.prototype.impotPays=function(t,e,r){return{duree:function(){return t},taux:function(){return e},reducexo:function(){return r},toString:function(){return'['+this.duree()+','+this.taux()+','+this.reducexo()+']'}}};Manufactor.prototype.isImpotPays=function(t,e,r,n,i){return{duree:function(){return t},taux:function(){return e},reducexo:function(){return r},ammortTauxEx:function(){return n},ammortLimit:function(){return i},toString:function(){return'['+this.duree()+','+this.taux()+','+this.reducexo()+','+this.ammortTauxEx()+','+this.ammortLimit()+']'}}};Manufactor.prototype.armortirModele=function(r,t,u,n){let dureeRestante=[];let baseAmortissable=[];let tauxLineaire=[];let tauxDegressif=[];let chargeAmorti=[];let purcent;let coefdegr;if(n==='Equipement'){coefdegr=u}
else{coefdegr=1};dureeRestante.push(t);baseAmortissable.push(Math.round(r));if(t>0){tauxLineaire.push(((1/t)*100))}
else{tauxLineaire.push(0)};if(t===0){tauxDegressif.push(0)}
else{if(tauxLineaire[0]===100){tauxDegressif.push(100)}
else{if(coefdegr*tauxLineaire[0]>tauxLineaire[0]){tauxDegressif.push((coefdegr*(tauxLineaire[0])))}
else{tauxDegressif.push(tauxLineaire[0])}}};chargeAmorti.push(Math.round(baseAmortissable[0]*(tauxDegressif[0]/100)));for(let i=1;i<5;i++){if(dureeRestante[i-1]>0){dureeRestante.push(dureeRestante[i-1]-1)}
else{dureeRestante.push(0)};baseAmortissable.push(baseAmortissable[i-1]-chargeAmorti[i-1]);if(dureeRestante[i]>0){tauxLineaire.push(((1/dureeRestante[i])*100))}
else{tauxLineaire.push(0)};if(dureeRestante[i]===0){tauxDegressif.push(0)}
else{if(coefdegr*tauxLineaire[0]>100){tauxDegressif.push(100)}
else{if(coefdegr*tauxLineaire[0]>tauxLineaire[i]){tauxDegressif.push(Math.round((t*coefdegr)*100)/100)}
else{tauxDegressif.push(tauxLineaire[i])}}};purcent=tauxDegressif[i]/100;chargeAmorti.push(Math.trunc(baseAmortissable[i]*purcent))};return{dureeRestante:function(){return dureeRestante},baseAmortissable:function(){return baseAmortissable},tauxLineaire:function(){return tauxLineaire},tauxDegressif:function(){return tauxDegressif},chargeAmorti:function(){return chargeAmorti},name:function(){return n},getHtml:function(){let cote2=['Base amortissable</td><td>FCFA','Taux unitaire</td><td>%','Taux dégréssif</td><td>%','Charge amortissement</td><td>FCFAS'];let html='<div class=\'panel panel-info\'><div class="panel-heading">';let cote1=['Durée linéaire</td><td>Année','Coef dégréssif</td><td>Coef'];let head=`<thead><tr><th>${this.name()};</th><th>FCFA</th><th;class='blue'>${myMath.separatorNumber(this.baseAmortissable()[0])};</th></tr></thead>`;;            html += bootstrap.tableSE(cote1, head, {;                    tab: myMath.separatorNumberArray([this.dureeRestante()[0]]),;                    color: "yellow";                },;                {;                    tab: myMath.separatorNumberArray([coefdegr]),;                    color: "yellow";                });;            html += "</div><div;class='panel-body'>';;            let head2 = '<thead><tr><th>Durée;restante</th><th>Annee</th>';;            for (let i = 0; i < 5; i++) {;                head2 += `<th>${myMath.separatorNumber(this.dureeRestante()[i])}</th>`;;            };            head2 += '</thead>";;            let tauxLin = [];;            let tauxDegr = [];;            this.tauxLineaire().forEach(function (item) {;                tauxLin.push(Math.round(item * 100) /;100)});this.tauxDegressif().forEach(function(t){tauxDegr.push(Math.round(t*100)/100)});html+=bootstrap.tableSE(cote2,head2,{tab:myMath.separatorNumberArray(this.baseAmortissable()),color:''},{tab:myMath.separatorNumberArray(tauxLin),color:''},{tab:myMath.separatorNumberArray(tauxDegr),color:''},{tab:myMath.separatorNumberArray(this.chargeAmorti()),color:''});html+='</div></div>';return html}}};let maker=new Manufactor();
;function createDebutPAys(){sessionStorage.clear();let pays=[];let ben=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(5,null,100,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let bfa=maker.investir(maker.impotPays(5,null,100),maker.isImpotPays(5,null,null,50,50),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let cmr=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(5,null,50,null,null),maker.impotPays(null,null,null),maker.impotPays(5,null,50),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let caf=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(3,null,100,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let cog=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(3,null,100,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let civ=maker.investir(maker.impotPays(7,2.2,null),maker.isImpotPays(7,null,100,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let gab=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(5,null,100,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let mli=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(7,25,null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let ner=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(null,null,null,null,null),maker.impotPays(6,null,100),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let sen=maker.investir(maker.impotPays(5,null,100),maker.isImpotPays(5,null,null,40,50),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let tcd=maker.investir(maker.impotPays(null,null,null),maker.isImpotPays(5,null,100,null,null),maker.impotPays(5,null,100),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));let tgo=maker.investir(maker.impotPays(5,2,null),maker.isImpotPays(5,null,2,40,50),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null),maker.impotPays(null,null,null));pays.push(maker.land('BEN','Bénin',maker.impot(4,30,0.75,10,15,18),maker.ammortissement(20,10,2.5,3,2,10),ben,'Exonération d’IS pendant 5 ans','Code des investissements <br/>régime A<br/> zone 1\n'));pays.push(maker.land('BFA','Burkina Faso',maker.impot(3,27.5,0.5,12.5,25,18),maker.ammortissement(20,10,2.5,3,2,10),bfa,'– Exonération de la taxe patronale d’apprentissage pendant 5 ans.\n– Déduction d’IS pendant 5 ans, à hauteur de 50% de l’investissement, dans la limite de 50% du bénéfice imposable.\n','Code des investissements\n<br/>régime A<br/> zone normale,<br/>bien que le seuil d’investissement de 100 millions de FCFA ne soit pas atteint.\n'));pays.push(maker.land('CMR','Cameroun',maker.impot(2.5,33,2.2,16.5,16.5,19.25),maker.ammortissement(20,10,1,3,4,10),cmr,'– Réduction de 50% de l’IS pendant 5 ans.\n– Réduction de 50% de l’IRVM sur les dividendes pendant 5 ans\n','Modalités d’application des incitations à l’investissement privé<br/>catégorie A'));pays.push(maker.land('CAF','République Centraficaine',maker.impot(0,30,1.85,15,15,19),maker.ammortissement(20,10,1,3,4,10),caf,'Exonération d’IS pendant 3 ans','Charte des investissements\n<br/>zone normale.\n'));pays.push(maker.land('COG','République du Congo',maker.impot(7.5,30,1,15,15,18.9),maker.ammortissement(20,10,1,3,4,10),cog,'– Exonération d’IS pendant 3 ans.','Modalités d’application de la charte des investissements\n<br/>régime général G<br/> zone unique<br/>'));pays.push(maker.land('CIV','Côte d Ivoire',maker.impot(2.8,25,0.5,15,18,9),maker.ammortissement(20,5,2,3,2,10),civ,'– Réduction de 50% de la contribution nationale pour le développement économique, culturel et social de la nation pendant 7 ans.,– Exonération d’IS pendant 7 ans.','Code des investissements\n<br/>régime d’agrément élargi aux PME<br/> zone A.\n'));pays.push(maker.land('GAB','Gabon',maker.impot(5,30,1,20,20,18),maker.ammortissement(20,10,1,3,4,10),gab,'Exonération d’IS pendant 5 ans.','Promotion des PME et PMI,<br/>bien que le chiffre d’affaires annuel dépasse 2 milliards de FCFA.\n'));pays.push(maker.land('MLI','Mali',maker.impot(7.5,30,1,10,13,18),maker.ammortissement(20,10,2.5,3,2,10),mli,'Taux réduit d’IS (25% au lieu de 30%) pendant 7 ans.','Code des investissements\n<br/>régime A<br/>zone unique\n'));pays.push(maker.land('NER','Niger',maker.impot(3,30,1.5,10,20,19),maker.ammortissement(20,10,1,4,2,10),ner,'Exonération d’IMF pendant 6 ans','Code des investissements\n<br/>régime promotionnel<br/>\nzone normale'));pays.push(maker.land('SEN','Sénégal',maker.impot(3,30,0.5,10,16,18),maker.ammortissement(20,10,2.5,3,2,10),sen,'',''));pays.push(maker.land('TCD','Tchad',maker.impot(8.7,35,1.5,20,20,18),maker.ammortissement(20,10,1,3,3,10),tcd,'',''));pays.push(maker.land('TGO','Togo',maker.impot(3,29,1,13,6,18),maker.ammortissement(20,10,2.5,3,2,10),tgo,'',''));pays.toString=function(){let str='';this.forEach(function(l){str+='pays :\n'+l+'\n'});return str};sessionStorage.setItem('land',pays.toString())};if(sessionStorage.getItem('land')===undefined){createDebutPAys();window.location.reload(!0)};if(sessionStorage.getItem('land')===null){createDebutPAys();window.location.reload(!0)};if(sessionStorage.getItem('land')==='null'){createDebutPAys();window.location.reload(!0)};
;let ModelManager=function(){};ModelManager.prototype.investissementModele=function(e,t){return(e.terrain()+e.construction()+e.equipement()+e.camion()+e.info()+e.bureau())*t};ModelManager.prototype.ammortissment=function(e,t,i){let amortissement=[];amortissement.push(maker.armortirModele(e.construction()*i,t.amortization().construction(),t.amortization().coefdegressif(),'Construction'));amortissement.push(maker.armortirModele(e.equipement()*i,t.amortization().equipement(),t.amortization().coefdegressif(),'Equipement'));amortissement.push(maker.armortirModele(e.camion()*i,t.amortization().camion(),t.amortization().coefdegressif(),'Camion'));amortissement.push(maker.armortirModele(e.info()*i,t.amortization().info(),t.amortization().coefdegressif(),'Informatique'));amortissement.push(maker.armortirModele(e.bureau()*i,t.amortization().bureau(),t.amortization().coefdegressif(),'Bureau'));return amortissement};ModelManager.prototype.ammortGen=function(e){let total=[0,0,0,0,0];let generalAmort=[];e.forEach(function(e){e.chargeAmorti().forEach(function(e,t){generalAmort.push(e);total[t]+=e});generalAmort.push('change')});total.forEach(function(e){generalAmort.push(e)});return generalAmort};ModelManager.prototype.taxe_val_ajout=function(e,t,r){let i;let petrole=[];let taux=[];let tva=[];for(i=0;i<5;i++){petrole.push(e.petrole()*r)};for(i=0;i<5;i++){taux.push(t.tvaPetrole())};for(i=0;i<5;i++){tva.push((e.petrole()*r)*(t.tvaPetrole()/100))};if(tva.length===6){tva.pop()};return{petrole:function(){return petrole},taux:function(){return taux},tva:function(){return tva},}};ModelManager.prototype.contributionForfEmploie=function(e,t,r,n){let i;let salaireCadre=[];for(i=0;i<5;i++){salaireCadre.push(e.cadre()*e.indice_cadre()*r)};let salaireSecretaire=[];for(i=0;i<5;i++){salaireSecretaire.push(e.secretaire()*e.indice_secretaire()*r)};let salaireOuvrier=[];for(i=0;i<5;i++){salaireOuvrier.push(e.ouvrier()*e.indice_ouvrier()*r)};let masseSalarial=[];for(i=0;i<5;i++){masseSalarial.push(salaireCadre[i]+salaireSecretaire[i]+salaireOuvrier[i])};let taux=[];for(i=0;i<5;i++){taux.push(n.cfe())};let reelCFE=[];for(i=0;i<5;i++){reelCFE.push(masseSalarial[i]*(taux[i]/100))};return{salaire_cadre:function(){return salaireCadre},salaire_secretaire:function(){return salaireSecretaire},salaire_ouvrier:function(){return salaireOuvrier},masse_salarial:function(){return masseSalarial},tauxCfe:function(){return taux},reel_CFE:function(){return reelCFE},}};ModelManager.prototype.selectTaxe=function(e,t){let cfe,is,imf,irvm,irc,tvaPetrole;if(t.government()==='gen'){cfe=e.impots().cfe();is=e.impots().isImp();imf=e.impots().imf();irvm=e.impots().irvm();irc=e.impots().irc();tvaPetrole=e.impots().tva_petrole()}
else{if(e.investment().duree<5){cfe=e.impots().cfe();is=e.impots().isImp();imf=e.impots().imf();irvm=e.impots().irvm();irc=e.impots().irc();tvaPetrole=e.impots().tva_petrole()}
else{if(e.investment().cfe().taux()!=null){cfe=e.investment().cfe().taux()}
else{if(e.investment().cfe().reducexo()!=null){cfe=((1-(e.investment().cfe().reducexo()/100))*(e.impots().cfe()/100))*100}
else{cfe=e.impots().cfe()}};if(e.investment().isamort().taux()!=null){is=e.investment().isamort().taux()}
else{if(e.investment().isamort().reducexo()!=null){is=(((1-(e.investment().isamort().reducexo()/100))*(e.impots().isImp()/100))*100)}
else{is=e.impots().isImp()}};if(e.investment().imf().taux()!=null){imf=e.investment().imf().taux()}
else{if(e.investment().imf().reducexo()!=null){imf=((1-(e.investment().imf().reducexo()/100))*(e.impots().imf()/100))*100}
else{imf=e.impots().imf()}};if(e.investment().irvm().taux()!=null){irvm=e.investment().irvm().taux}
else{if(e.investment().irvm().reducexo()!=null){irvm=((1-(e.investment().irvm().reducexo()/100))*(e.impots().irvm()/100))*100}
else{irvm=e.impots().irvm()}};if(e.investment().irc().taux()!=null){irc=e.investment().irc().taux()}
else{if(e.investment().irc().reducexo!=null){irc=((1-(e.investment().irc().reducexo()/100))*(e.impots().irc()/100))*100}
else{irc=e.impots().irc()}};if(e.investment().tvaPetrole().taux()!=null){tvaPetrole=e.investment().tvaPetrole().taux()}
else{if(e.investment().irc().reducexo()!=null){tvaPetrole=((1-(e.investment().tvaPetrole().reducexo()/100))*(e.impots().tva_petrole()/100))*100}
else{tvaPetrole=e.impots().tva_petrole()}}}};return{cfe:function(){return cfe},is:function(){return is},imf:function(){return imf},irvm:function(){return irvm},irc:function(){return irc},tvaPetrole:function(){return tvaPetrole},}};ModelManager.prototype.taxe_creance=function(e,t,r){let i;let chargeFin=[];let taux=[];let irc=[];for(i=0;i<5;i++){chargeFin.push(e.chargeFinanciere()*r)};for(i=0;i<5;i++){taux.push(t.irc())};for(i=0;i<5;i++){irc.push((e.chargeFinanciere()*r)*(t.irc()/100))};return{chargeFinance:function(){return chargeFin},taux:function(){return taux},irc:function(){return irc},}};ModelManager.prototype.comptableResult=function(e,t,r,n,a,o,s,u){let i;let vente=[];let achats=[];let petrole=[];let tva_petrole=r;let depense_admin=[];let depense_pub=[];let depense_entretien=[];let salaireCadre=n;let salaire_secreataire=a;let salaireOuvrier=o;let CFE=s;let chargeFinancier=[];let amortissement=[];let benefice_comptable=[];let taux_marge_avant__IS_ISMF=[];let cpt=0;u.forEach(function(e){if(e==='change'){cpt++}
else{if(cpt>4){amortissement.push(e)}}});for(i=0;i<5;i++){vente.push(e.vente()*t);achats.push(e.achat()*t);petrole.push(e.petrole()*t);depense_admin.push(e.depenseAdministrative()*t);depense_pub.push(e.depensePub()*t);depense_entretien.push(e.depenseEntretien()*t);chargeFinancier.push(e.chargeFinanciere()*t)};for(i=0;i<5;i++){benefice_comptable.push(vente[i]-(achats[i]+petrole[i]+tva_petrole[i]+depense_admin[i]+depense_pub[i]+depense_entretien[i]+salaireCadre[i]+salaireOuvrier[i]+salaire_secreataire[i]+CFE[i]+chargeFinancier[i]+amortissement[i]));taux_marge_avant__IS_ISMF.push((benefice_comptable[i]/vente[i])*100)};return{vente:function(){return vente},achats:function(){return achats},petrole:function(){return petrole},tva_petrole:function(){return tva_petrole},depense_entretien:function(){return depense_entretien},depense_admin:function(){return depense_admin},depense_pub:function(){return depense_pub},salaire_ouvrier:function(){return salaireOuvrier},salaire_secretaire:function(){return salaire_secreataire},salaire_cadre:function(){return salaireCadre},cfe:function(){return CFE},chargeFinanciere:function(){return chargeFinancier},amortissement:function(){return amortissement},benefice_comptable:function(){return benefice_comptable},taux_marge_avant__IS_IMF:function(){return taux_marge_avant__IS_ISMF},}};ModelManager.prototype.impotResult=function(e,t){let benImpo=[];for(let i=0;i<5;i++){benImpo.push(e[i]-t[i])};return{benCompta:function(){return e},amortExep:function(){return t},benImpo:function(){return benImpo},}};ModelManager.prototype.ammortExcept=function(e,t,n,r){let i;let investissment=(r.firm().terrain()+r.firm().construction()+r.firm().equipement()+r.firm().camion()+r.firm().info()+r.firm().bureau())*r.land().pib;let taux;let limitation;let duree;let tDuree=[];let baseAmorti=[];let chargeAmorti=[];if(n==='nongen'){if(e.investment().isamort().ammortTauxEx()!=null){taux=e.investment().isamort().ammortTauxEx()}
else{taux=0};if(e.investment().isamort().ammortLimit()!=null){limitation=e.investment().isamort().ammortLimit()}
else{limitation=0};if(e.investment().isamort().duree()!=null){duree=e.investment().isamort().duree()}
else{duree=0}}
else{taux=0;limitation=0;duree=0};tDuree.push(duree);for(i=1;i<5;i++){tDuree.push(tDuree[i-1]-1);if(tDuree[i]<0){tDuree[i]=0}};baseAmorti.push(investissment*(taux/100));for(i=0;i<5;i++){if(tDuree<=0){chargeAmorti.push(0)}
else{if(t[i]<=0){chargeAmorti.push(0)}
else{if((limitation/100)*t[i]>baseAmorti[i]){chargeAmorti.push(baseAmorti[i])}
else{chargeAmorti.push((limitation/100)*t[i])}}};if(i<4){baseAmorti.push(baseAmorti[i]-chargeAmorti[i])}};return{duree:function(){return duree},investment:function(){return investissment},taux:function(){return taux},limitation:function(){return limitation},dureeTab:function(){return tDuree},baseAmorti:function(){return baseAmorti},chargeAmorti:function(){return chargeAmorti},}};ModelManager.prototype.iSIMFtab=function(e,t){let monTab=[];for(let i=0;i<5;i++){if(e[i]>=t[i]){monTab.push(e[i])}
else{monTab.push(t[i])}};return monTab};ModelManager.prototype.impotTaxeCourent=function(e,t,r,n,o,a){let cfe=[];let isimf=[];let irvm=[];let irc=[];let tvaPetrole=[];let total=[];for(let i=0;i<5;i++){cfe.push(t.reel_CFE()[i]);isimf.push(r[i]);irvm.push(n[i]);irc.push(o.irc()[i]);tvaPetrole.push(a.tva()[i]);total.push(cfe[i]+isimf[i]+irc[i]+irvm[i]+tvaPetrole[i])};cfe.push(myMath.van(e/100,cfe));isimf.push(myMath.van(e/100,isimf));irvm.push(myMath.van(e/100,irvm));irc.push(myMath.van(e/100,irc));tvaPetrole.push(myMath.van(e/100,tvaPetrole));total.push(myMath.van(e/100,total));return{cfe:function(){return cfe},isimf:function(){return isimf},irvm:function(){return irvm},irc:function(){return irc},tvaPetrole:function(){return tvaPetrole},total:function(){return total},}};ModelManager.prototype.impotTaxeActu=function(e,t,r,n,o,a){let cfe=[];let isimf=[];let irvm=[];let irc=[];let tvaPetrole=[];let total=[];let totactu=0;for(let i=0;i<5;i++){totactu=e[i];cfe.push(t.reel_CFE()[i]*(totactu/100));isimf.push(r[i]*(totactu/100));irvm.push(n[i]*(totactu/100));irc.push(o.irc()[i]*(totactu/100));tvaPetrole.push(a.tva()[i]*(totactu/100));total.push(cfe[i]+isimf[i]+irc[i]+irvm[i]+tvaPetrole[i])};cfe.push(myMath.sommeTab(cfe));isimf.push((myMath.sommeTab(isimf)));irvm.push(myMath.sommeTab(irvm));irc.push(myMath.sommeTab(irc));tvaPetrole.push(myMath.sommeTab(tvaPetrole));total.push(myMath.sommeTab(total));return{cfe:function(){return cfe},isimf:function(){return isimf},irvm:function(){return irvm},irc:function(){return irc},tvaPetrole:function(){return tvaPetrole},total:function(){return total},}};ModelManager.prototype.tauxEffectif=function(e,t){return((e-t)/e)*100};ModelManager.prototype.fluxTresoriesI=function(e,t,i,r){let courant=[];let courantBis=[];let actuel=[];let actuelBis=[];let totactu;courant.push(-(e.capitalSocial()+e.detteLongTerme()+e.detteCourtTerme()+e.detteFournisseur())*t);actuel.push(-(e.capitalSocial()+e.detteLongTerme()+e.detteCourtTerme()+e.detteFournisseur())*t);i.vente().forEach(function(t,e){courant.push(t-i.achats()[e]-i.petrole()[e]-i.depense_entretien()[e]-i.depense_admin()[e]-i.depense_pub()[e]-i.salaire_ouvrier()[e]-i.salaire_cadre()[e]-i.salaire_secretaire()[e]-i.chargeFinanciere()[e])});courantBis.push(courant[0]);actuelBis.push(actuel[0]);courant.forEach(function(e,t){if(t!==0){totactu=(r[t-1]);courantBis.push(e);actuel.push(e*(totactu/100));actuelBis.push(actuel[t])}});courant.push(myMath.van(e.actuali()/100,courant));actuel.push(myMath.sommeTab(actuelBis));return{courant:function(){return courant},topic:function(){return actuel},}};ModelManager.prototype.fluxTresoriesImp=function(e,t,i,r){let actu=[];let courant=[];courant.push(e.courant()[0]);actu.push(e.topic()[0]);e.topic().forEach(function(t,r){if(r>0&&r<e.topic().length-1){actu.push(t-i[r-1])}});e.courant().forEach(function(i,r){if(r>0&&r<e.courant().length-1){courant.push(i-t[r-1])}});actu.push(myMath.sommeTab(actu));courant.push(myMath.van(r/100,courant));return{courant:function(){return courant},topic:function(){return actu},}};ModelManager.prototype.tauxRendementInterne=function(e){let taux=[];let tau;let tabBis=[];tabBis.push(e[0]);e.forEach(function(t,i){if(i>0&&i<e.length-1){tabBis.push(t);try{tau=myMath.tri(tabBis)}catch(r){tau=0};if(tau<0){tau=0};taux.push(tau)}});return taux};ModelManager.prototype.tauxEffectifMarginaux=function(e,t){let tot=[];e.forEach(function(e,i){if(e>0){tot.push((((e-t[i])/e)*100))}
else{tot.push(0)}});return tot};ModelManager.prototype.tauxRenInterTot=function(e){let topic=[];let tau;e.forEach(function(t,i){if(i<e.length-1){topic.push(t)}});try{tau=myMath.tri(topic)}catch(t){tau=0};if(tau<0){tau=0};return tau};let modelManager=new ModelManager();
;let Model=function(e){this.donnee=e};Model.prototype.mesdon=function(){let mE=this.donnee.firm();let mP=this.donnee.land();let impotSelected=modelManager.selectTaxe(mP,this.donnee);let pibchoix=this.donnee.land().pib;let investissement=Math.trunc(modelManager.investissementModele(mE,pibchoix));let amortissement=modelManager.ammortissment(mE,mP,pibchoix);let generalAmort=modelManager.ammortGen(amortissement);let taxeValAjout=modelManager.taxe_val_ajout(mE,impotSelected,pibchoix);let emploi=modelManager.contributionForfEmploie(mE,mP,pibchoix,impotSelected);let taxeCreance=modelManager.taxe_creance(mE,impotSelected,pibchoix);let resultCompta=modelManager.comptableResult(mE,pibchoix,taxeValAjout.tva(),emploi.salaire_cadre(),emploi.salaire_secretaire(),emploi.salaire_ouvrier(),emploi.reel_CFE(),generalAmort);let ammortExcep=modelManager.ammortExcept(mP,resultCompta.benefice_comptable(),this.donnee.government(),this.donnee);let resultImpot=modelManager.impotResult(resultCompta.benefice_comptable(),ammortExcep.chargeAmorti());let impotSociete=[];let impotIMF=[];let impotIRVM=[];let actualisation=[];for(let i=0;i<5;i++){actualisation.push(1/Math.pow(1+(mE.actuali()/100),i)*100)};let lol,lol2;for(let i=0;i<5;i++){lol=resultImpot.benImpo()[i];lol2=(impotSelected.is()/100);impotSociete.push(lol*lol2)};for(let i=0;i<5;i++){impotIMF.push(resultCompta.vente()[i]*(impotSelected.imf()/100))};for(let i=0;i<5;i++){impotIRVM.push(resultCompta.benefice_comptable()[i]*(impotSelected.irvm()/100)*(mE.dividende()/100))};let isimf=modelManager.iSIMFtab(impotSociete,impotIMF);let impotTaxeCourent=modelManager.impotTaxeCourent(mE.actuali(),emploi,isimf,impotIRVM,taxeCreance,taxeValAjout);let impotTaxeActu=modelManager.impotTaxeActu(actualisation,emploi,isimf,impotIRVM,taxeCreance,taxeValAjout);let fluxTresSansImp=modelManager.fluxTresoriesI(mE,pibchoix,resultCompta,actualisation);let fluxTresSansISIMF=modelManager.fluxTresoriesImp(fluxTresSansImp,impotTaxeCourent.isimf(),impotTaxeActu.isimf(),mE.actuali());let fluxTresApresImpot=modelManager.fluxTresoriesImp(fluxTresSansImp,impotTaxeCourent.total(),impotTaxeActu.total(),mE.actuali());let tauxeffMoyC=modelManager.tauxEffectif(fluxTresSansImp.courant()[fluxTresSansImp.courant().length-1],fluxTresApresImpot.courant()[fluxTresApresImpot.courant().length-1]);let tauxRendInterneSImp=modelManager.tauxRendementInterne(fluxTresSansImp.courant());let tauxRendInterneSImpTot=modelManager.tauxRenInterTot(fluxTresSansImp.topic());let tauxRendInterneSISIMF=modelManager.tauxRendementInterne(fluxTresSansISIMF.courant());let tauxRendInterneSISIMFTop=modelManager.tauxRenInterTot(fluxTresSansISIMF.topic());let tauxRendInterneAImp=modelManager.tauxRendementInterne(fluxTresApresImpot.courant());let tauxRendInterneAImpTot=modelManager.tauxRenInterTot(fluxTresApresImpot.topic());let tauxEffMargImpApIsImf=modelManager.tauxEffectifMarginaux(tauxRendInterneSImp,tauxRendInterneSISIMF);let tauxEffMargImpApImp=modelManager.tauxEffectifMarginaux(tauxRendInterneSImp,tauxRendInterneAImp);return{impotSelected:function(){return impotSelected},investissement:function(){return investissement},amortissementGeneral:function(){return generalAmort},amortissement:function(){return amortissement},taxeAjout:function(){return taxeValAjout},employer:function(){return emploi},impotIMF:function(){return impotIMF},impotIRVM:function(){return impotIRVM},ammortExcep:function(){return ammortExcep},taxeCreance:function(){return taxeCreance},resultCompta:function(){return resultCompta},resultImpot:function(){return resultImpot},actualisation:function(){return actualisation},impotSociete:function(){return impotSociete},isImf:function(){return isimf},impotTaxeCourent:function(){return impotTaxeCourent},impotTaxeActu:function(){return impotTaxeActu},fluxTresSansImp:function(){return fluxTresSansImp},tauxeffMoyCourent:function(){return tauxeffMoyC},fluxTresSansISIMF:function(){return fluxTresSansISIMF},fluxTresApresImpot:function(){return fluxTresApresImpot},tauxRendInterneSImp:function(){return tauxRendInterneSImp},tauxRendInterneSImpTot:function(){return tauxRendInterneSImpTot},tauxRendInterneSISIMF:function(){return tauxRendInterneSISIMF},tauxRendInterneSISIMFTot:function(){return tauxRendInterneSISIMFTop},tauxRendInterneAImp:function(){return tauxRendInterneAImp},tauxRendInterneAImpTot:function(){return tauxRendInterneAImpTot},tauxEffMargImpApIsImf:function(){return tauxEffMargImpApIsImf},tauxEffMargImpApImp:function(){return tauxEffMargImpApImp}}};
;let Graph=function(){};Graph.prototype.graphique=function(e,t,a,l,n,r){document.getElementById('graph-container').innerHTML=`<div;class='row'><div;class='col-sm-10'><canvas;id='${idGraph}'></canvas></div><div;class='col-sm-2'><div;id='js-legend';class='chart-legend'></div> </div></div><div id="${idText}"></div>`;let dataset=[];let colorDif;let color;let targetCanvas=document.getElementById(t);let ctx=targetCanvas.getContext('2d');let myChart;if(e.length!==0){if(e[0].length===0){ctx.clearRect(0,0,targetCanvas.width,targetCanvas.height);myChart=new Chart(ctx,null);myChart.clear();$(t).remove();$('iframe.chartjs-hidden-iframe').remove();document.getElementById(a).innerHTML=' '}
else{colorDif=createColorSet(e[0].length);color=[];colorDif.forEach(function(e){color.push(getColorString(e))});let pays=[];let donneDataset=[];e.forEach(function(e,t){pays.push(e);donneDataset.push([]);pays[t].forEach(function(e){donneDataset[t].push(e.modele.mesdon().tauxeffMoyCourent())})});let entreprise=[];donneDataset[0].forEach(function(e,t){entreprise.push([]);donneDataset.forEach(function(e){entreprise[t].push(e[t])})});let realColor;let entre=[];entreprise.forEach(function(t,a){realColor=[];t.forEach(function(){realColor.push(color[a])});entre.push('entreprise '+(a+1));dataset.push({label:'entreprise '+(a+1)+' taux de marge avant impot = '+e[0][a].donne.margin()+' % ',data:t,backgroundColor:realColor,})});let payTab=[];e.forEach(function(e){payTab.push(e[0].donne.land().name())});let myChart=new Chart(ctx,{type:'bar',data:{labels:payTab,datasets:dataset,},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,stepValue:0.1,},scaleLabel:{display:!0,labelString:'pourcentage %'}}],xAxes:[{display:!0,ticks:{autoSkip:!1,}}]},legend:{display:!1,position:'right',fullWidth:!1,},title:{display:!0,text:'TEMI Global avec le régime fiscal :'+l},responsive:!0,}});let legendsHTML='<ul class=\'1-legend\'>';let getLEgend=myChart.legend.legendItems;getLEgend.forEach(function(e,t){legendsHTML+=`<li><span;style='background-color: ${item.fillStyle}'></span> entreprise ${index + 1} </li>`});legendsHTML+='</ul>';document.getElementById('js-legend').innerHTML=legendsHTML;$('#js-legend > ul > li').on(`click`,function(){let index=$(this).index();$(this).toggleClass('strike');let ci=myChart;let curr=ci.data.datasets[index];curr.hidden=!curr.hidden;ci.update()});document.getElementById(a).innerHTML=this.tableau(entreprise,n,r)}}
else{ctx.clearRect(0,0,targetCanvas.width,targetCanvas.height);myChart=new Chart(ctx,null);myChart.clear();$(t).remove();$('iframe.chartjs-hidden-iframe').remove();document.getElementById(a).innerHTML=' '}};Graph.prototype.tableau=function(e,t,a){let entrer=[];e.forEach(function(e,t){entrer.push('entreprise '+(t+1))});return bootstrap.bootstrapTemiTabSpe(entrer,paysChoisi,e,t,a)};function createColorSet(e){let colors=[],step=3*256/(e+1),cs=0,g;let b;for(let i=0;i<e;i++){cs=i*step;colors[i]=[];colors[i].r=Math.round(cs%256);colors[i].g=Math.round(cs/3);b=256-cs;while(b<0)b=b+256;colors[i].b=Math.round(b)};return colors};function getColorString(e){return'rgba('+e.r+','+e.g+','+e.b+', 1)'};let graph=new Graph();
;let ViewGenerator=function(t){this.modele=t};ViewGenerator.prototype.resultatHtml=function(){let impotStatDuree=[];if(this.modele.donnee.government()==='gen'){for(let i=0;i<5;i++){impotStatDuree.push(' ')}}
else{};let head='<thead><tr><th/><th colspan=3 align=center>Taux statuaire</th><th colspan=2>Taux effectifs marginaux</th></tr>';head+='<tr><th/><th>Taux plein</th><th>Taux réduit</th><th>Durée</th><th>1re année</th><th>5e année</th></tr></thead>';let cfe=this.recupDonneTab(!1,this.modele.donnee.land().investment().cfe(),this.modele.donnee.land().impots().cfe(),!1,!1,!1);let is=this.recupDonneTab(!1,this.modele.donnee.land().investment().isamort(),this.modele.donnee.land().impots().isImp(),!0,!1,!1);let imf=this.recupDonneTab(!1,this.modele.donnee.land().investment().imf(),this.modele.donnee.land().impots().imf(),!1,!0,!1);let irvm=this.recupDonneTab(!1,this.modele.donnee.land().investment().irvm(),this.modele.donnee.land().impots().irvm(),!1,!1,!1);let irc=this.recupDonneTab(!1,this.modele.donnee.land().investment().irc(),this.modele.donnee.land().impots().irc(),!1,!1,!1);let tva=this.recupDonneTab(!1,this.modele.donnee.land().investment().tvaPetrole(),this.modele.donnee.land().impots().tva_petrole(),!1,!1,!1);let tot=this.recupDonneTab(this.modele.mesdon().tauxeffMoyCourent,this.modele.donnee.land().investment().total,this.modele.donnee.land().impots().imf(),!1,!1,!0);let bodyTest=bootstrap.tableSE([`CFE</td><td>${this.modele.donnee.land().impots().cfe()}`, `IS</td><td;class=\'fontred">${this.mP.impots().isImp()}`,;            `IMF</td><td class="fontred">${this.mP.impots().imf()}`, `IRVM</td><td>${this.mP.impots().irvm()}`,;            `IRC</td><td>${this.mP.impots().irc()}`, `TVA Petrole</td><td>${this.mP.impots().tva_petrole()}`, 'Total</td><td>"],;        head,;        {;            tab: myMath.arrondirTabUnit(cfe,2),;            color: "";        },;        {;            tab: myMath.arrondirTabUnit(is,2),;            color: "",;            font_color: "red",;            numTabdep: 0;        },;        {;            tab: myMath.arrondirTabUnit(imf,2),;            color: "",;            font_color: "red",;            numTabdep: 0;        },;        {;            tab: myMath.arrondirTabUnit(irvm,2),;            color: "";        },;        {;            tab: myMath.arrondirTabUnit(irc,2),;            color: "";        },;        {;            tab: myMath.arrondirTabUnit(tva,2),;            color: "";        },;        {;            tab: myMath.arrondirTabUnit(tot,2),;            color: "";        });;    let pannelTab = bootstrap.pan("default", null, bodyTest);;    return this.investissementRegime() + bootstrap.pan("default", "<h1>Résultat</h1>', pannelTab);;;};;/**; * @description This function create a tab for resultatHtml; * @param {Array} effMoy - the mean effectif tab; * @param {Object} impDonne - the Impot of the land; * @param {number} donneImp - the Impot Rate; * @param {Boolean} isIs - Defined if the impot is IS; * @param {Boolean } isImf - Defined if the impot is IMF; * @param {Boolean} isTot -Defined If we make A total Row; * @return {Array}; */;ViewGenerator.prototype.recupDonneTab = function (effMoy, impDonne, donneImp, isIs, isImf, isTot) {;    let result = [];;    if (isTot) {;        result.push(null);;        result.push(null);;        result.push(Math.round(this.modele.mesdon().tauxEffMargImpApImp()[0]*100)/100);;        result.push(Math.round(this.modele.mesdon().tauxEffMargImpApImp()[this.modele.mesdon().tauxEffMargImpApImp().length - 1]*100)/100);;        return result;;    };    else {;        if (this.modele.donnee.government() !== 'Gen') {;            if (impDonne.taux() != null) {;                result.push(impDonne.taux());;            };            else {;                if (impDonne.reducexo() != null) {;                    result.push(((1 - (impDonne.reducexo() / 100)) * (donneImp / 100)) * 100);;                };                else {;                    result.push(null);;                    result.push(null);;                };            };            if (impDonne.taux() != null) {;                result.push(impDonne.duree());;            };            if (impDonne.reducexo() != null) {;                result.push(impDonne.duree());;            };        };        if (isIs) {;            result.push(Math.round(this.modele.mesdon().tauxEffMargImpApIsImf()[0]*100)/100);;            result.push(Math.round(this.modele.mesdon().tauxEffMargImpApIsImf()[this.modele.mesdon().tauxEffMargImpApIsImf().length - 1]*100)/100);;        };        else {;            if (!isImf) {;                result.push(null);;                result.push(null);;            };        };        return result;;    };};;/**; * @description This function create a html to give the gdp on the land; * @return {string}; */;ViewGenerator.prototype.pinbHTML = function () {;    return `<p>Le PIB par tête pour le pays ${this.mP.name()} est de : ${myMath.separatorNumber(Math.round(this.mP.pib))} FCFA</p>`;;};;/**; * @description This function create a html to give a firm information; * @return {string}; */;ViewGenerator.prototype.entrepriseHTML = function () {;    let result = '<p>L'entreprise simulée est supposée être localisée dans la plus grande ville du pays, employer ";        + myMath.separatorNumber((this.mE.cadre() + this.mE.secretaire() + this.mE.ouvrier())) + " salariés et vendre la totalité de sa " +;        "production sur le marché local. ";;    result += "<br/>Elle comporte donc " + myMath.separatorNumber(this.mE.cadre()) + " cadre(s) dont l'indice;salarial;est;de';        + myMath.separatorNumber(this.mE.indice_cadre());;    result += ',' + myMath.separatorNumber(this.mE.secretaire()) + ';secrétaire(s);dont;l'indice salarial est de " + myMath.separatorNumber(this.mE.indice_secretaire());;    result += " , " + myMath.separatorNumber(this.mE.ouvrier()) + " ouvrier(s) dont l'indice;salarial;est;de' + myMath.separatorNumber(this.mE.indice_ouvrier()) + '.';;    result += '<br/>Elle;verse' + myMath.separatorNumber(this.mE.dividende()) + '%de;ses;bénéfices;dans;les;dividendes';;    result += '<br/>Elle;a;un;taux;d'actualisation de " + myMath.separatorNumber(this.mE.actuali()) + " %";;    result += "</p>";;    return result;;};;/**; * @description This function create a html to give a bilan Array on the firm used by the modele; * @return {string}; */;ViewGenerator.prototype.bilanHtml = function () {;    let actif = this.mE.terrain() + this.mE.construction() + this.mE.equipement() + this.mE.camion() + this.mE.info() +;        this.mE.bureau() + this.mE.stocks() + this.mE.creanceCli() + this.mE.dispoBanque();;    let passif = this.mE.capitalSocial() + this.mE.detteLongTerme() +;        this.mE.detteCourtTerme() + this.mE.detteFournisseur();;    let col1 = ["<span style='font-size:smaller;'><strong>Actif immobilisé</strong></span>",;        "Terrain", "Constructions", "Equipement", "Camion", "Matériel informatique", "Matériel de bureau",;        "<span style='font-size:smaller;'><strong>Actif circulant</strong></span>", "Stocks", "Créances Clients",;        "Disponibilités bancaires", "<strong>Actif</strong>"];;    let lin1 = {;        tab: myMath.separatorNumberArray([null, "<strong>Capitaux propre</strong>", null]),;        color: "";    };;    let lin2 = {;        tab: myMath.separatorNumberArray([this.mE.terrain(), "Capital social", this.mE.capitalSocial()]),;        color: "";    };;    let lin3 = {;        tab: myMath.separatorNumberArray([this.mE.construction(), null, null]),;        color: "";    };;    let lin4 = {;        tab: myMath.separatorNumberArray([this.mE.equipement(), null, null]),;        color: "";    };;    let lin5 = {;        tab: myMath.separatorNumberArray([this.mE.camion(), null, null]),;        color: "";    };;    let lin6 = {;        tab: myMath.separatorNumberArray([this.mE.info(), null, null]),;        color: "";    };;    let lin7 = {;        tab: myMath.separatorNumberArray([this.mE.bureau(), null, null]),;        color: "";    };;    let lin8 = {;        tab: myMath.separatorNumberArray([null, "<strong><span style='font-size:smaller;'>Dettes</span></strong>", null]),;        color: "";    };;    let lin9 = {;        tab: myMath.separatorNumberArray([this.mE.stocks(), "Dettes à long terme", this.mE.detteLongTerme()]),;        color: "";    };;    let lin10 = {;        tab: myMath.separatorNumberArray([this.mE.creanceCli(), "Dettes à court terme", this.mE.detteCourtTerme()]),;        color: "";    };;    let lin11 = {;        tab: myMath.separatorNumberArray([this.mE.dispoBanque(), "Dettes fournisseurs", this.mE.detteFournisseur()]),;        color: "";    };;    let lin12 = {;        tab: myMath.separatorNumberArray([`<strong>${actif}</strong>`, "<strong>Passif</strong>", passif]),;        color: "";    };;    let head = "<thead><tr><th colspan=3> Bilan à l'ouverture<th/><tr/><tr><th;colspan=2>Actif</th><th colspan=2>Passif</th></tr></thead>';;    let tab = bootstrap.tableSE(col1, head, lin1, lin2, lin3, lin4, lin5, lin6, lin7, lin8, lin9, lin10, lin11, lin12);;    return bootstrap.pan('default', null, tab);;};;/**; * @description This function create a html to give a compte Array of the firm used to create a model; * @return {string}; */;ViewGenerator.prototype.compteHtml = function () {;    let cote = ['Achats', 'Pétrole', 'Dépenses;administratives', 'Dépenses;publicitaires', 'Dépenses;d'entretien",;        "<strong>Impôts et taxes</strong>", "<strong>Masse Salariale</strong>", "Cadres", "Secrétaires", "Ouvriers",;        "<strong>Charges financières</strong>", "Charges financières", "<strong>Amortissement</strong>"];;    let head = "<thead><tr><th colspan=3> Compte de résultat<th/></tr><tr><th colspan=2>Charges</th><th colspan=2>Produit</th></tr></thead>";;    let lin0 = {;        tab: myMath.separatorNumberArray([this.mE.achat(), "Ventes", this.mE.vente()]),;        color: "";    };;    let lin1 = {;        tab: myMath.separatorNumberArray([this.mE.petrole(), null, null]),;        color: "";    };;    let lin2 = {;        tab: myMath.separatorNumberArray([this.mE.depenseAdministrative(), null, null]),;        color: "";    };;    let lin3 = {;        tab: myMath.separatorNumberArray([this.mE.depensePub(), null, null]),;        color: "";    };;    let lin4 = {;        tab: myMath.separatorNumberArray([this.mE.depenseEntretien(), null, null]),;        color: "";    };;    let lin5 = {;        tab: myMath.separatorNumberArray([null, null, null]),;        color: "";    };;    let lin6 = {;        tab: myMath.separatorNumberArray([null, null, null]),;        color: "";    };;    let lin7 = {;        tab: myMath.separatorNumberArray([this.mE.cadre(), null, null]),;        color: "";    };;    let lin8 = {;        tab: myMath.separatorNumberArray([this.mE.secretaire(), null, null]),;        color: "";    };;    let lin9 = {;        tab: myMath.separatorNumberArray([this.mE.ouvrier(), null, null]),;        color: "";    };;    let lin10 = {;        tab: myMath.separatorNumberArray([null, null, null]),;        color: "";    };;    let lin11 = {;        tab: myMath.separatorNumberArray([this.mE.chargeFinanciere(), null, null]),;        color: "";    };;    let lin12 = {;        tab: myMath.separatorNumberArray([null, null, null]),;        color: "";    };;;    let tab = bootstrap.tableSE(cote, head, lin0, lin1, lin2, lin3, lin4, lin5, lin6, lin7, lin8, lin9, lin10, lin11, lin12);;    return bootstrap.pan("default", null, tab);;};;/**; * @description This function create a html to give A economic data; * @return {string}; */;ViewGenerator.prototype.donneesEconomique = function () {;    let result = this.pinbHTML();;    result += this.entrepriseHTML();;    result += this.bilanHtml();;    result += this.compteHtml(this.modele.donnee);;    return bootstrap.pan("default", "<h1>Données Economiques</h1>", result);;};;/**; * @description This function create a html to give the Impot of the land; * @return {string}; */;ViewGenerator.prototype.ImpotHtml = function () {;    let head = "<thead><tr><th colspan=5> Impôt<th/></tr>";;    head += "<tr><th/><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr>";;    head += "</thead>";;    let cfe = [];;    let is = [];;    let imf = [];;    let irvm = [];;    let irc = [];;    let tva = [];;    for (let i = 0; i < 5; i++) {;        cfe.push(this.modele.mesdon().impotSelected().cfe() + "%");;        is.push(this.modele.mesdon().impotSelected().is() + "%");;        imf.push(this.modele.mesdon().impotSelected().imf() + "%");;        irvm.push(this.modele.mesdon().impotSelected().irvm() + "%");;        irc.push(this.modele.mesdon().impotSelected().irc() + "%");;        tva.push(this.modele.mesdon().impotSelected().tvaPetrole() + "%");;    };    let cote = ["CFE", "IS", "IMF", "IRVM", "IRC", "TVA Pétrole"];;    return bootstrap.tableSE(cote, head, {;            tab: myMath.separatorNumberArray(cfe),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(is),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(imf),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(irvm),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(irc),;            color: "";        }, {;            tab: myMath.separatorNumberArray(tva),;            color: "";        });;};;/**; * @description This function create the HTML to ammortissement; * @return {string}; */;ViewGenerator.prototype.amortissementHtml = function () {;    let head = "<thead><tr><th colspan=2> Amortissement<th/></tr><tr><th/><th>Durée Linéaire</th><th>Coef dégressif</th></tr></thead>";;    let cote = ["Construction", "Equipement", "Camion", "Matériel informatique", "Matériel bureau"];;    let lin1 = {;        tab: myMath.separatorNumberArray([this.mP.amortization().construction(), this.mP.amortization().coefdegressif()]),;        color: "";    };;    let lin2 = {;        tab: myMath.separatorNumberArray([this.mP.amortization().equipement(), this.mP.amortization().coefdegressif()]),;        color: "";    };;    let lin3 = {;        tab: myMath.separatorNumberArray([this.mP.amortization().camion(), this.mP.amortization().coefdegressif()]),;        color: "";    };;    let lin4 = {;        tab: myMath.separatorNumberArray([this.mP.amortization().info(), this.mP.amortization().coefdegressif()]),;        color: "";    };;    let lin5 = {;        tab: myMath.separatorNumberArray([this.mP.amortization().bureau(), this.mP.amortization().coefdegressif()]),;        color: "";    };;    let tab = bootstrap.tableSE(cote, head, lin1, lin2, lin3, lin4, lin5);;    return bootstrap.pan("default", null, tab);;};;/**; * @description This function create the HTML to ammortissement Excep; * @return {string}; */;ViewGenerator.prototype.amortiExcepHTML = function () {;    return "<p> Pour les amortissements exceptionnels, le taux dépend de l'investissement,il;y;a;une;limitation;par' +;        ';rapport;au;bénéfice;annuel;et;l'unité de la durée est l'année.</p>";;;};;/***@description;This;function create;the;HTML;to;give;a;Fiscal;Data*@return{string};*/;ViewGenerator.prototype.donneesFiscal = function () {;    let pannelBody = bootstrap.pan("default", null, this.ImpotHtml(this.modele.mesdon()));;    pannelBody += this.amortissementHtml();;    pannelBody += this.amortiExcepHTML();;    return bootstrap.pan("default", "<h1>Données fiscales</h1>', pannelBody);;};;/**; * @description This function create a  HTML to make a body; * @return {string}; */;ViewGenerator.prototype.bodyHtml = function () {;    let bodyglo = this.resultatHtml();;    bodyglo += this.donneesEconomique();;    bodyglo += this.donneesFiscal();;    return bodyglo;;;};;/**; * @description This function create the HTML to give the parameters and make any Button to navigate on the Model DATA; * @return {string}; */;ViewGenerator.prototype.navigationHtml = function () {;    let regime;;    if (this.modele.donnee.government() === 'gen') {;        regime = 'Code;général;des;impôts';;    };    else {;        regime = 'Code;des;investissements';;    };    let pannel = bootstrap.pan('default', 'Paramètres', this.modele.donnee.land().name() + '<br/>' + regime + '</br>" + this.modele.donnee.topic() + "</br>' + this.modele.donnee.margin());;    let result = '<div;class='vertical-menu'>' + pannel;;    result += bootstrap.buttonBalA('./modele', 'Voir;le;résultat');;    result += bootstrap.buttonBalA('./', 'Retour') + '</div>";;    return result;;};;/***@description;This;function is;the;main;to;create;a;Data;modele;View;on;html*@return{string};*/;ViewGenerator.prototype.mainHTML = function () {;    this.mP = this.modele.donnee.land();;    this.mE = this.modele.donnee.firm();;    return bootstrap.GridNavCote(this.bodyHtml(), this.navigationHtml());;};;/***@description;This;function create;a;HTML;to;the;petrole;Tva;Taxe;on;modele*@return{string};*/;ViewGenerator.prototype.petroleHtml = function () {;    let cote = ["Pétrole</td><td>FCFA', 'Taux</td><td>%", "TVA Pétrole</td><td>FCFA'];;    let tab = bootstrap.tableSE(cote, null, {;            tab: myMath.separatorNumberArray(this.modele.mesdon().taxeAjout().petrole()),;            color: 'blue';        },;        {;            tab: myMath.separatorNumberArray(this.modele.mesdon().taxeAjout().taux()),;            color: 'yellow';        },;        {;            tab: myMath.separatorNumberArray(this.modele.mesdon().taxeAjout().tva()),;            color: '';        });;    return bootstrap.pan('default', null, tab);;};;/**; * @description This function create a HTML for the Financial Taxe; * @return {string}; */;ViewGenerator.prototype.chargeFinancierHtml = function () {;    let cote = ['Charges;financiéres</td><td>FCFA", "Taux</td><td>%', 'IRC</td><td>FCFA"];;    let tab = bootstrap.tableSE(cote, null, {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().taxeCreance().chargeFinance())),;            color: "blue";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().taxeCreance().taux(), 2)),;            color: "yellow";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().taxeCreance().irc())),;            color: "";        });;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;the;HTML;to;give;the;REAL;cost;on;working;force*@return{string};*/;ViewGenerator.prototype.emploieHtml = function () {;    let cote = ["Salaire des cadres</td><td>FCFA', 'Salaire;des;secrétaires</td><td>FCFA", "Salaire des ouvriers</td><td>FCFA'];;    cote.push('Masse;Salariale</td><td>FCFA");;    cote.push("Taux</td><td>%');;    cote.push('CFE</td><td>FCFA");;    let tab = bootstrap.tableSE(cote, null,;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().employer().salaire_cadre(), 0)),;            color: "blue";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().employer().salaire_secretaire())),;            color: "blue";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().employer().salaire_ouvrier())),;            color: "blue";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().employer().masse_salarial())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().employer().tauxCfe(), 2)),;            color: "yellow";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().employer().reel_CFE())),;            color: "";        });;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;the;HTML;to;give;the;Comptability;Result;Array*@return{string};*/;ViewGenerator.prototype.comptableHtml = function () {;    let cote = ["Vente</td><td;class=\'bottomBorder">FCFA'];cote.push('Achats</td><td>FCFA');cote.push('Pétrole</td><td>FCFA');cote.push('TVA pétrole</td><td>FCFA');cote.push('Dépenses administratives</td><td>FCFA');cote.push('Dépenses publicitaires</td><td>FCFA');cote.push('Dépenses d\'entretien</td><td class="bottomBorder">FCFA');cote.push('Salaires des cadres</td><td>FCFA');cote.push('Salaires des secrétaires</td><td>FCFA');cote.push('Salaires des ouvriers</td><td>FCFA');cote.push('CFE</td><td class="bottomBorder">FCFA');cote.push('Charges financières</td><td class="bottomBorder">FCFA');cote.push('Amortissement</td><td class="bottomBorder">FCFA');cote.push('Bénéfice comptable</td><td>FCFA');cote.push('Taux de margin  avant IS/IMF</td><td>%CA');let tab=bootstrap.tableSE(cote,null,{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().vente())),color:'blue',bottomBorder:'true'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().achats())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().petrole())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().tva_petrole())),color:''},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().depense_admin())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().depense_pub())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().depense_entretien())),color:'blue',bottomBorder:'true'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().salaire_cadre())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().salaire_secretaire())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().salaire_ouvrier())),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().cfe())),color:'',bottomBorder:'true'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().chargeFinanciere())),color:'blue',bottomBorder:'true'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().amortissement())),color:'',bottomBorder:'true'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().benefice_comptable())),color:''},{tab:myMath.separatorNumberArray(myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().taux_marge_avant__IS_IMF()),1)),color:''});return bootstrap.pan('default',null,tab)};ViewGenerator.prototype.ammortExcepHtml=function(){let coteHead=['Investissement</td><td>FCFA','Taux</td><td>% investissement','Limitation</td><td>% Bénéfice comptable','Durée</td><td>Années'];let tabHead=bootstrap.tableSE(coteHead,null,{tab:myMath.separatorNumberArray([Math.round(this.modele.mesdon().ammortExcep().investment())]),color:'blue'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit([this.modele.mesdon().ammortExcep().taux()],2)),color:'yellow'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit([this.modele.mesdon().ammortExcep().limitation()],2)),color:'yellow'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit([this.modele.mesdon().ammortExcep().duree()])),color:'yellow'});let coteBody=['Durée restante</td><td>Années','Base amortissable</td><td>FCFA','Charge d\'amortissement</td><td>FCFA'];let tabBody=bootstrap.tableSE(coteBody,null,{tab:myMath.separatorNumberArray(this.modele.mesdon().ammortExcep().dureeTab()),color:''},{tab:myMath.separatorNumberArray(this.modele.mesdon().ammortExcep().baseAmorti()),color:''},{tab:myMath.separatorNumberArray(this.modele.mesdon().ammortExcep().chargeAmorti()),color:''});return bootstrap.pan('info',tabHead,tabBody)};ViewGenerator.prototype.resultatImpotHtml=function(){let cote=['Bénéfice comptable</td><td>FCFA','Amortissement exceptionnel</td><td>FCFA','Bénéfice imposable</td><td>FCFA'];let tab=bootstrap.tableSE(cote,null,{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultImpot().benCompta())),color:''},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultImpot().amortExep())),color:''},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultImpot().benImpo())),color:''});return bootstrap.pan('default',null,tab)};ViewGenerator.prototype.getAmmortGenneralHtml=function(){let cpt=0;let tab='<table class=\'table\'><thead/></thead><tbody><tr><td>Construction</td><td>FCFA</td>';for(let i=0;i<this.modele.mesdon().amortissementGeneral().length;i++){if(this.modele.mesdon().amortissementGeneral()[i]!=='change'){tab+=`<td>${myMath.separatorNumber(Math.round(this.modele.mesdon().amortissementGeneral()[i]))};</td>`;;        };        else {;            tab += "</tr><tr>';;            switch (cpt) {;                case 0 :;                    tab += '<td>Equipement</td><td>FCFA</td>';;                    break;;                case 1 :;                    tab += '<td>Camion</td><td>FCFA</td>';;                    break;;                case 2 :;                    tab += '<td>Informatique</td><td>FCFA</td>';;                    break;;                case 3 :;                    tab += '<td>Bureau</td><td>FCFA</td>';;                    break;;                default:;                    tab += '<td>Total</td><td>FCFA</td>';;                    break;;            };            cpt++;;        };    };    tab += '</tr></tbody></table>";;    return bootstrap.pan("info", "Amortissement", tab);;};;/***@description;This;function create;a;HTML;to;give;a;IS;impot;Array*@return{string};*/;ViewGenerator.prototype.impotSocieteHtml = function () {;    let is = [];;    let impSoc = [];;    for (let i = 0; i < 5; i++) {;        is.push(this.modele.mesdon().impotSelected().is());;        impSoc.push(Math.round(this.modele.mesdon().impotSociete()[i]));;    };    let cote = ["Bénéfice imposable</td><td>FCFA', 'Taux</td><td>% bénéfice imposable", "IS</td><td>FCFA'];;    let tab = bootstrap.tableSE(cote, null,;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultImpot().benImpo())),;            color: '',;        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(is, 2)),;            color: 'yellow';        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(impSoc)),;            color: '';        };        );    ;;    return bootstrap.pan('default', null, tab);;};;/**; * @description This function create a HTML to give a IMF Impot on modele; * @return {string}; */;ViewGenerator.prototype.impotForfaitHtml = function () {;    let imf = [];;    let impIMF = [];;    for (let i = 0; i < 5; i++) {;        imf.push(this.modele.mesdon().impotSelected().imf());;        impIMF.push(Math.round(this.modele.mesdon().impotIMF()[i]));;    };    let cote = ['Ventes</td><td>FCFA", "Taux</td><td>%CA', 'IMF</td><td>FCFA"];;    let tab = bootstrap.tableSE(cote, null, {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().vente())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(imf, 2)),;            color: "yellow";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(impIMF)),;            color: "";        });;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;a;HTML;to;give;the;IS/IMF;Array*@return{string};*/;ViewGenerator.prototype.isImfHtml = function () {;    let cote = ["IS/IMF</td><td>FCFA", "Bénéfice après IS/IMF</td><td>FCFA", "Taux de marge  après IS/IMF</td><td>%CA"];;    let tab = bootstrap.tableSE(cote, null, {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().isImf())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().benefice_comptable())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray( myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().taux_marge_avant__IS_IMF(), 1)),;            color: "";        });;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;the;HTML;to;give;the;IRVM;Impot;on;modele*@return{string};*/;ViewGenerator.prototype.impotRevenuValeurMobilieres = function () {;    let div = [];;    let irvm = [];;    for (let i = 0; i < 5; i++) {;        div.push(this.modele.donnee.firm().dividende());;        irvm.push(this.modele.donnee.land().impots().irvm());;    };    let cote = ["Bénéfice après IS/IMF</td><td>FCFA", "Distribution anuelle</td><td>%des;bénéfice;après;IS/IMF', 'Taux</td><td>% des bénéfice après IS/IMF', 'IRVM</td><td>FCFA"];;    let tab = bootstrap.tableSE(cote, null, {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().resultCompta().benefice_comptable())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(div, 2)),;            color: "yellow";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(irvm, 2)),;            color: "blue";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().impotIRVM())),;            color: "";        });;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;a;HTML;to;give;a;Actualisation;Array*@return{string};*/;ViewGenerator.prototype.actualisationHtml = function () {;    let tab = bootstrap.tableSE(["Actualisation"], null, {;        tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(this.modele.mesdon().actualisation(), 1)),;        color: "";    });;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;a;HTML;to;give;All;Impot;and;Taxe;used;by;a;Model*@param{Object};monm-The;impot;use;by;the;modele;use;to;generate;a;Html*@return{string};*/;ViewGenerator.prototype.tabImpotEtTaxe = function (monm) {;    let cote = ["CFE</td><td>FCFA', 'IS/IMF</td><td>FCFA", "IRVM</td><td>FCFA', 'IRC</td><td>FCFA", "TVA Pétrole</td><td>FCFA', 'Total</td><td>FCFA"];;    let tab = bootstrap.tableSE(cote, null,;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(monm.cfe())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(monm.isimf())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(monm.irvm())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(monm.irc())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(monm.tvaPetrole())),;            color: "";        },;        {;            tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(monm.total())),;            color: "";        };    );;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;the;HTML;to;Give;The;TEMI;By;a;land;on;a;firm*@return{string};*/;ViewGenerator.prototype.tabTauxEffectifMoy = function () {;    let tab = `<p> le TEMI est de ${myMath.separatorNumber(Math.round(this.modele.mesdon().tauxeffMoyCourent() * 100) /;100)};%</p>`;;    return bootstrap.pan("default", null, tab);;};;/***@description;This;function create;a;HTML;to;give;a;cash;FLOW;ARRAY*@param{Object};tab-The;Table;of;cash;Flow;Array*@param{String};color-The;Color;Of;the;year;0;Cash;Flow;Data*@return{string};*/;ViewGenerator.prototype.tabFluxTresorie = function (tab, color) {;    let cote = ["Courants</td><td>FCFA', 'Actualisés</td><td>FCFA", " "];;    let lol = [null, null, null, null, null, null, null, "Somme"];;    //console.log(color);let mota=bootstrap.tableSE(cote,'<thead><tr><th/><th/><th/><th/><th/><th/><th/><th/><th>VAN</th></tr></thead>',{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(tab.courant())),color:'',colorFirstCase:color,fontColorLastCase:'selectedPosNegNumber'},{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(tab.topic())),color:'',colorFirstCase:color,fontColorLastCase:'selectedPosNegNumber'},{tab:lol,color:''});return bootstrap.pan('default',null,mota)};ViewGenerator.prototype.tauxRendementInt=function(o,i){return bootstrap.pan('default',null,`${bootstrap.tableSE(['Courants'],null,{tab:myMath.separatorNumberArray(myMath.arrondirTabUnit(o,2)),color:''})};<p>Le;taux;de;rendement;interne;sur;les;5;années;est;de;${myMath.separatorNumber(i)};%</p>`);;};;/***@description;This;function create;a;HTML;to;give;a;return rate;Array*@param{Array};o-the;Array;of;the;return rate*@return{string};*/;ViewGenerator.prototype.tauxMargInt = function (tab) {;    return bootstrap.pan("default", null, `${bootstrap.tableSE(["Courants"], null, {;        tab: myMath.separatorNumberArray(myMath.arrondirTabUnit(tab, 2)),;        color: "";    })}`);;};;/***@description;This;function create;the;HTML;to;give;the;investment;Government;Describe*@return{string};*/;ViewGenerator.prototype.investissementRegime = function () {;    let html = "<p>";;    if (this.modele.donnee.government() !== "gen") {;        html += "La formulation de plusieurs hypothèses a été nécessaire afin de déterminer à quel régime privilégié " +;            "l’entreprise modélisée peut prétendre. L’investissement concerne une firm nouvelle. Il ne s’agit " +;            "pas d’un investment d’extension des capacités de production d’une firm déjà existante. " +;            " Le montant d’investissement éligible au code des investissements correspond à l’actif immobilisé de " +;            "l’entreprise, soit 145×PNB/tête.L’entreprise;est;située;dans;la;capitale;du;land.L’entreprise' +;            ';crée;60;emplois.L’entreprise;n’est;pas;exportatrice.Elle;vend;la;totalité;de;sa;production;sur' +;            ';le;marché;national.L’entreprise;commence;sa;phase;d’exploitation:les;cinq;années;modélisées' +;            'sont;les;cinq;premières;années;d’exploitation;de;l’firm;nouvelle,l’investissement;a;déjà;eu;lieu.';;        html += '<br/>';;        html += 'Ces;hypothèses;conduisent;généralement;à;retenir;le;régime;du;code;des;investissements;le;moins' +;            'avantageux;fiscalement(souvent;appelé;régime;A),car;la;taille;de;l’entreprise;est;insuffisante' +;            'pour;être;éligible;aux;régimes;supérieurs.';;        html += '</p><p>";;;        html += this.modele.donnee.land().source();;    };    html += "</p>';;    return html;;;};'
;let Data=function(e,r,t,n){let randLands=land;let mP;for(let i=0;i<randLands.pays.length;i++){if(randLands.pays[i].code()===e){mP=randLands.pays[i];break}};this.land=function(){mP.pib=ref.givePIB(mP.code());return mP};this.government=function(){return r};this.topic=function(){return t};this.margin=function(){return n};this.firm=function(){return maker.firm(t,n)}};
;let Land=function(){this.pays=[];let name="";let code="";let impStr="";let impotStr;let impot;let ammortStr="";let ammortiStr;let ammort;let investStr="";let invest;let investTab;let overide="";let source="";let strPa=sessionStorage.getItem("land");let tab=strPa.split("\npays :");let tabis=[];let investImp=function(t,i){let taber=i.split(",");let result=[];taber.forEach(function(t){if(t==="null"){result.push(null)}
else{result.push(Number.parseFloat(t))}});let invest;if(t!==2){invest=maker.impotPays(result[0],result[1],result[2])}
else{invest=maker.isImpotPays(result[0],result[1],result[2],result[3],result[4])};return invest};tab.forEach(function(t,i){if(i===0){t=t.slice(7,Array.from(t).length)};t=t.split("|");tabis.push(t)});for(let i=0;i<tabis.length;i++){name=tabis[i][0];code=tabis[i][1];impStr=tabis[i][2];impot=[];impotStr=[];ammortStr=tabis[i][3];ammortiStr=[];ammort=[];investStr=tabis[i][4];invest=[];overide=tabis[i][5];source=tabis[i][6];impStr=impStr.slice(1,Array.from(impStr).length-1);impotStr=impStr.split(",");impotStr.forEach(function(t){if(t==="as d'impo"){impot="pas d'impot"}
else{impot.push(Number.parseFloat(t))}});ammortStr=ammortStr.slice(1,Array.from(ammortStr).length-1);ammortiStr=ammortStr.split(",");ammortiStr.forEach(function(t){if(t==="as d'ammortissemen"){ammort="pas d'ammortissement"}
else{ammort.push(Number.parseFloat(t))}});investStr=investStr.slice(1,Array.from(investStr).length-1);investTab=investStr.split("],[");investTab.forEach(function(t,i){if(i===0){t=t.slice(1,Array.from(t).length)};if(i===investTab.length-1){t=t.slice(0,Array.from(t).length-1)};if(t==="s d'investissme"){invest="as d'investissmen"}
else{invest.push(investImp(i+1,t))}});let imp;let amm;let inv;if(name!=="Guinée Bissao"){if(name!=="Guinée équatoriale"){imp=maker.impot(impot[0],impot[1],impot[2],impot[3],impot[4],impot[5]);amm=maker.ammortissement(ammort[0],ammort[1],ammort[5],ammort[2],ammort[3],ammort[4]);inv=maker.investir(invest[0],invest[1],invest[2],invest[3],invest[4],invest[5])}
else{imp=impot;amm=ammort;inv=invest}}
else{imp=impot;amm=ammort;inv=invest};this.pays.push(maker.land(code,name,imp,amm,inv,overide,source))};this.pays.toString=function(){let str="";this.forEach(function(t){str+="pays :\n"+t+"\n"});return str}};Land.prototype.ajouterPays=function(t){let monBool=!0;let monNom="";let source="";for(let i=0;i<this.pays.length;i++){monNom="";Array.from(this.pays[i].name()).forEach(function(t){if(t!=="\n"){monNom+=t}});if(t.code()===this.pays[i].code()){if(t.name()===monNom){if(t.impots().cfe()===this.pays[i].impots().cfe()){if(t.impots().isImp()===this.pays[i].impots().isImp()){if(t.impots().imf()===this.pays[i].impots().imf()){if(t.impots().irvm()===this.pays[i].impots().irvm()){if(t.impots().irc()===this.pays[i].impots().irc()){if(t.impots().tva_petrole()===this.pays[i].impots().tva_petrole()){if(t.amortization().construction()===this.pays[i].amortization().construction()){if(t.amortization().equipement()===this.pays[i].amortization().equipement()){if(t.amortization().coefdegressif()===this.pays[i].amortization().coefdegressif()){if(t.amortization().camion()===this.pays[i].amortization().camion()){if(t.amortization().info()===this.pays[i].amortization().info()){if(t.amortization().bureau()===this.pays[i].amortization().bureau()){if(t.investment().cfe().duree()===this.pays[i].investment().cfe().duree()){if(t.investment().cfe().taux()===this.pays[i].investment().cfe().taux()){if(t.investment().cfe().reducexo()===this.pays[i].investment().cfe().reducexo()){if(t.investment().isamort().duree()===this.pays[i].investment().isamort().duree()){if(t.investment().isamort().taux()===this.pays[i].investment().isamort().taux()){if(t.investment().isamort().reducexo()===this.pays[i].investment().isamort().reducexo()){if(t.investment().isamort().ammortTauxEx()===this.pays[i].investment().isamort().ammortTauxEx()){if(t.investment().isamort().ammortLimit()===this.pays[i].investment().isamort().ammortLimit()){if(t.investment().imf().duree()===this.pays[i].investment().imf().duree()){if(t.investment().imf().taux()===this.pays[i].investment().imf().taux()){if(t.investment().imf().reducexo()===this.pays[i].investment().imf().reducexo()){if(t.investment().irvm().duree()===this.pays[i].investment().irvm().duree()){if(t.investment().irvm().taux()===this.pays[i].investment().irvm().taux()){if(t.investment().irvm().reducexo()===this.pays[i].investment().irvm().reducexo()){if(t.investment().irc().duree()===this.pays[i].investment().irc().duree()){if(t.investment().irc().taux()===this.pays[i].investment().irc().taux()){if(t.investment().irc().reducexo()===this.pays[i].investment().irc().reducexo()){if(t.investment().tvaPetrole().duree()===this.pays[i].investment().tvaPetrole().duree()){if(t.investment().tvaPetrole().taux()===this.pays[i].investment().tvaPetrole().taux()){if(t.investment().tvaPetrole().reducexo()===this.pays[i].investment().tvaPetrole().reducexo()){if(t.override()===this.pays[i].override()){source="";Array.from(this.pays[i].source().toString()).forEach(function(t){if(t!=="\n"){source+=t}});if(t.source().toString()===source){monBool=!1;break}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};if(monBool){this.pays.push(t);sessionStorage.setItem("land",this.pays.toString())};land=new Land()};let land=new Land();
;let startTime=new Date().getTime();let elapsedTime=0;let monModele;if(localStorage.getItem("don")!==undefined&&localStorage.getItem("don")!==null){let tab=localStorage.getItem("don").split(",");monModele=new Model(new Data(tab[0],tab[1],tab[2],tab[3]))};function showModal(){let mod=$("#REGIME").val();$("#myBtn").click(function(){if($("#actualisation").val()!==undefined){if($("#actualisation").val()!==null){document.getElementById("actualistionCompa").value=$("#actualisation").val()}};$("#REGIMECmpta option[value="+mod+"]").attr("selected","selected");$("#myModal").modal()});$("#myCont").click(function(){localStorage.setItem("retour1",$("#REGIMECmpta").val());localStorage.setItem("retour2",$("#actualistionCompa").val());debutCompa($("#actualistionCompa").val(),$("#REGIMECmpta").val())})};function debutCompa(e,a){try{e=verif.verifPourcent(e);localStorage.setItem("compaActu",e);localStorage.setItem("compatRegime",a);let stateObj={foo:"bar"};history.pushState(stateObj,window.location.href);console.log(history.state);window.location.href="./graph";history.replaceState(stateObj,"some useless title","./graph")}catch(t){alert(t.toString());document.location.href="./"}};function retourModal(){localStorage.setItem("retour1",$("#REGIMECmpta").val());localStorage.setItem("retour2",$("#actualistionCompa").val());window.location.href="./"};function validateForm(){let actualisation=$("#actualisation").val();let marge=$("#marge").val();try{actualisation=verif.verifPourcent(actualisation)}catch(e){alert("Le taux d'actualisation doit être compris entre 0 et 100");return};try{marge=verif.verifPourcent(marge)}catch(e){alert("Le taux de marge doit être compris entre 0 et 100 ");return};let pays=$("#PAYS").val();let regime=$("#REGIME").val();localStorage.setItem("don",[pays,regime,actualisation,marge].toString());let donne=new Data(pays,regime,actualisation,marge);if(donne.land()!==undefined){if(donne.land()!=null){console.log("pib du pays : "+donne.land().pib.toString())}};monModele=new Model(donne);let genererVue=new ViewGenerator(monModele);document.getElementById("result").innerHTML=genererVue.mainHTML(pays,regime,actualisation,marge);elapsedTime=new Date().getTime()-startTime};